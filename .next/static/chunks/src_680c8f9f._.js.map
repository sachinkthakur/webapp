{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/table.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, children, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  >{children}</tbody> // Explicitly render children inside\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n"],"names":[],"mappings":";;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YACC,KAAK;YACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;;AAIf,MAAM,WAAW,GAAG;AAEpB,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAM,KAAK;QAAK,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,mBAAmB;QAAa,GAAG,KAAK;;;;;;;AAEzE,YAAY,WAAW,GAAG;AAE1B,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAG/B,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;kBACT;;;;;aAAkB,oCAAoC;;;AAE1D,UAAU,WAAW,GAAG;AAExB,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,2DACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG;AAE1B,MAAM,yBAAW,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAG9B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,+EACA;QAED,GAAG,KAAK;;;;;;;AAGb,SAAS,WAAW,GAAG;AAEvB,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,oGACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,kDAAkD;QAC/D,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,6BAAe,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,sCAAsC;QACnD,GAAG,KAAK;;;;;;;AAGb,aAAa,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 147, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 250, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/scroll-area.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGhC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,6KAAA,CAAA,OAAwB;QACvB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,4BAA4B;QACzC,GAAG,KAAK;;0BAET,6LAAC,6KAAA,CAAA,WAA4B;gBAAC,WAAU;0BACrC;;;;;;0BAEH,6LAAC;;;;;0BACD,6LAAC,6KAAA,CAAA,SAA0B;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,6KAAA,CAAA,OAAwB,CAAC,WAAW;AAE7D,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,EAG/B,CAAC,EAAE,SAAS,EAAE,cAAc,UAAU,EAAE,GAAG,OAAO,EAAE,oBACpD,6LAAC,6KAAA,CAAA,sBAAuC;QACtC,KAAK;QACL,aAAa;QACb,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iDACA,gBAAgB,cACd,sDACF,gBAAgB,gBACd,wDACF;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,6KAAA,CAAA,kBAAmC;YAAC,WAAU;;;;;;;;;;;MAjB7C;AAoBN,UAAU,WAAW,GAAG,6KAAA,CAAA,sBAAuC,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 327, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/popover.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,UAAU,sKAAA,CAAA,OAAqB;AAErC,MAAM,iBAAiB,sKAAA,CAAA,UAAwB;AAE/C,MAAM,+BAAiB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,QAAQ,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC5D,6LAAC,sKAAA,CAAA,SAAuB;kBACtB,cAAA,6LAAC,sKAAA,CAAA,UAAwB;YACvB,KAAK;YACL,OAAO;YACP,YAAY;YACZ,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,8aACA;YAED,GAAG,KAAK;;;;;;;;;;;;AAIf,eAAe,WAAW,GAAG,sKAAA,CAAA,UAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 375, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/alert.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,6JACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG3B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAO,EAAE,oBACnC,6LAAC;QACC,KAAK;QACL,MAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;;AAGb,MAAM,WAAW,GAAG;AAEpB,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,gDAAgD;QAC7D,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,iCAAmB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,iBAAiB,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 452, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/history/page.tsx"],"sourcesContent":["\n'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation'; // Import useRouter\nimport {\n  Table,\n  TableBody,\n  TableCaption,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '@/components/ui/table';\nimport { Card, CardHeader, CardTitle, CardDescription, CardContent } from '@/components/ui/card';\nimport { ScrollArea } from '@/components/ui/scroll-area';\nimport type { AttendanceRecord, LoggedInUser } from '@/lib/types'; // Import LoggedInUser\nimport Image from 'next/image';\nimport { format, parseISO } from 'date-fns'; // Added parseISO\nimport { History, User, Calendar, Clock, MapPin, Camera, AlertTriangle } from 'lucide-react';\nimport { useToast } from '@/hooks/use-toast'; // Import useToast\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\";\nimport { Alert, AlertDescription, AlertTitle } from '@/components/ui/alert';\n\n\nexport default function HistoryPage() {\n  const router = useRouter(); // Initialize router\n  const { toast } = useToast(); // Initialize toast\n  const [history, setHistory] = useState<AttendanceRecord[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [currentUser, setCurrentUser] = useState<LoggedInUser | null>(null); // Store the full user object\n\n  useEffect(() => {\n    // Check login status\n    const loggedInUserString = localStorage.getItem('loggedInUser');\n    if (!loggedInUserString) {\n      toast({\n        variant: 'destructive',\n        title: 'Not Logged In',\n        description: 'Please log in to view attendance history.',\n      });\n      router.push('/login');\n      return; // Stop further execution if not logged in\n    }\n\n    let user: LoggedInUser;\n    try {\n      user = JSON.parse(loggedInUserString);\n      setCurrentUser(user);\n\n      // Redirect admin users to the admin page\n      if (user.type === 'admin') {\n          toast({\n            title: 'Redirecting',\n            description: 'Admins should use the Admin Dashboard.',\n          });\n          router.push('/admin');\n          return;\n      }\n    } catch (e) {\n        console.error(\"Failed to parse loggedInUser\", e);\n        toast({ variant: 'destructive', title: 'Login Error', description: 'Please log in again.' });\n        localStorage.removeItem('loggedInUser');\n        router.push('/login');\n        return;\n    }\n\n\n    // Fetch data from localStorage only if user is an employee\n    if (user.type === 'employee') {\n        const storedHistory = localStorage.getItem('attendanceHistory');\n        if (storedHistory) {\n          try {\n              const allHistory: AttendanceRecord[] = JSON.parse(storedHistory);\n              const userHistory = allHistory\n                  .filter(record => record.userId === user.userId) // Filter for the current user's ID (phone number)\n                  .map((record: any) => ({\n                      ...record,\n                      // Ensure timestamp is a Date object - handle potential string format\n                      timestamp: typeof record.timestamp === 'string' ? parseISO(record.timestamp) : new Date(record.timestamp),\n                  }))\n                  .sort((a: AttendanceRecord, b: AttendanceRecord) => b.timestamp.getTime() - a.timestamp.getTime()); // Sort newest first\n\n              setHistory(userHistory);\n          } catch (e) {\n              console.error(\"Failed to parse attendance history:\", e);\n              setHistory([]); // Set empty if parsing fails\n              toast({ // Inform user about potential data issue\n                  variant: \"destructive\",\n                  title: \"History Error\",\n                  description: \"Could not load your attendance history.\",\n              });\n          }\n        }\n    } else {\n        // Should have been redirected if admin, but clear history just in case\n        setHistory([]);\n    }\n    setIsLoading(false);\n  }, [router, toast]); // Add router and toast to dependency array\n\n\n   if (isLoading) {\n       return <div className=\"text-center p-10\">Loading your attendance history...</div>;\n   }\n\n   // If user is admin, they should have been redirected already.\n   // This check is an extra safety measure.\n   if (currentUser?.type === 'admin') {\n       return (\n            <div className=\"flex justify-center items-center h-full\">\n               <Alert variant=\"default\" className=\"max-w-md\">\n                    <AlertTriangle className=\"h-4 w-4\"/>\n                    <AlertTitle>Redirecting</AlertTitle>\n                    <AlertDescription>\n                       Admin users should view history on the Admin Dashboard.\n                    </AlertDescription>\n               </Alert>\n            </div>\n       );\n   }\n\n\n  return (\n    <Card className=\"shadow-lg\">\n      <CardHeader>\n        <CardTitle className=\"text-2xl font-bold text-center text-primary flex items-center justify-center gap-2\">\n           <History className=\"h-6 w-6\" /> Your Attendance History\n        </CardTitle>\n        <CardDescription className=\"text-center\">\n          View your past attendance records. ({currentUser?.userName})\n        </CardDescription>\n      </CardHeader>\n      <CardContent>\n        <ScrollArea className=\"h-[60vh] rounded-md border\">\n          <Table>\n            <TableCaption>\n              {isLoading\n                ? 'Loading attendance history...'\n                : history.length === 0\n                ? 'No attendance records found for you.'\n                : 'A list of your recent attendance records.'}\n            </TableCaption>\n            <TableHeader className=\"sticky top-0 bg-secondary\">\n              <TableRow>\n                {/* Hide User column as it's always the logged-in user */}\n                <TableHead><Calendar className=\"inline-block mr-1 h-4 w-4\" />Date</TableHead>\n                <TableHead><Clock className=\"inline-block mr-1 h-4 w-4\" />Time</TableHead>\n                <TableHead><MapPin className=\"inline-block mr-1 h-4 w-4\" />Location / Address</TableHead>\n                <TableHead className=\"text-center\"><Camera className=\"inline-block mr-1 h-4 w-4\" />Selfie</TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {history.map((record) => (\n                <TableRow key={record.id}>\n                  <TableCell>{format(record.timestamp, 'PPP')}</TableCell>\n                  <TableCell>{format(record.timestamp, 'p')}</TableCell>\n                  <TableCell>\n                    <div className=\"flex flex-col gap-1\">\n                      <span>\n                        Lat: {record.location.latitude.toFixed(4)}, Lon: {record.location.longitude.toFixed(4)}\n                      </span>\n                      {record.location.address ? (\n                        <span className=\"text-xs text-muted-foreground break-words max-w-[250px]\"> {/* Limit width */}\n                          {record.location.address}\n                        </span>\n                      ) : (\n                        <span className=\"text-xs text-muted-foreground italic\">Address not recorded</span>\n                      )}\n                    </div>\n                  </TableCell>\n                  <TableCell className=\"text-center\">\n                    {record.selfie ? (\n                       <Popover>\n                        <PopoverTrigger asChild>\n                           <Image\n                            src={record.selfie}\n                            alt={`Selfie of ${record.userName || 'user'} on ${format(record.timestamp, 'PPP')}`}\n                            width={40}\n                            height={40}\n                            className=\"rounded-full object-cover inline-block border cursor-pointer hover:opacity-80 transition-opacity\"\n                          />\n                        </PopoverTrigger>\n                        <PopoverContent className=\"w-auto p-0\">\n                           <Image\n                              src={record.selfie}\n                              alt={`Full selfie of ${record.userName || 'user'}`}\n                              width={200} // Adjust size as needed\n                              height={200}\n                              className=\"rounded object-cover\"\n                          />\n                        </PopoverContent>\n                       </Popover>\n                    ) : (\n                      'No Selfie'\n                    )}\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </ScrollArea>\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}