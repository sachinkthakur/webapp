"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./src/app/page.tsx":
/*!**************************!*\
  !*** ./src/app/page.tsx ***!
  \**************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var face_api_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! face-api.js */ \"(app-pages-browser)/./node_modules/face-api.js/build/es6/index.js\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./src/components/ui/button.tsx\");\n/* harmony import */ var _components_ui_card__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/ui/card */ \"(app-pages-browser)/./src/components/ui/card.tsx\");\n/* harmony import */ var _components_ui_progress__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/ui/progress */ \"(app-pages-browser)/./src/components/ui/progress.tsx\");\n/* harmony import */ var _components_ui_alert__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/ui/alert */ \"(app-pages-browser)/./src/components/ui/alert.tsx\");\n/* harmony import */ var _hooks_use_toast__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/hooks/use-toast */ \"(app-pages-browser)/./src/hooks/use-toast.tsx\");\n/* harmony import */ var _services_geo_location__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/services/geo-location */ \"(app-pages-browser)/./src/services/geo-location.ts\");\n/* harmony import */ var _services_attendance__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/services/attendance */ \"(app-pages-browser)/./src/services/attendance.ts\");\n/* harmony import */ var _services_auth__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/services/auth */ \"(app-pages-browser)/./src/services/auth.ts\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_Camera_CheckCircle_Loader2_LogOut_MapPin_RefreshCw_User_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,Camera,CheckCircle,Loader2,LogOut,MapPin,RefreshCw,User,XCircle!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_Camera_CheckCircle_Loader2_LogOut_MapPin_RefreshCw_User_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,Camera,CheckCircle,Loader2,LogOut,MapPin,RefreshCw,User,XCircle!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/log-out.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_Camera_CheckCircle_Loader2_LogOut_MapPin_RefreshCw_User_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,Camera,CheckCircle,Loader2,LogOut,MapPin,RefreshCw,User,XCircle!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/camera.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_Camera_CheckCircle_Loader2_LogOut_MapPin_RefreshCw_User_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,Camera,CheckCircle,Loader2,LogOut,MapPin,RefreshCw,User,XCircle!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/circle-x.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_Camera_CheckCircle_Loader2_LogOut_MapPin_RefreshCw_User_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,Camera,CheckCircle,Loader2,LogOut,MapPin,RefreshCw,User,XCircle!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/triangle-alert.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_Camera_CheckCircle_Loader2_LogOut_MapPin_RefreshCw_User_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,Camera,CheckCircle,Loader2,LogOut,MapPin,RefreshCw,User,XCircle!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/refresh-cw.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_Camera_CheckCircle_Loader2_LogOut_MapPin_RefreshCw_User_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,Camera,CheckCircle,Loader2,LogOut,MapPin,RefreshCw,User,XCircle!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/user.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_Camera_CheckCircle_Loader2_LogOut_MapPin_RefreshCw_User_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,Camera,CheckCircle,Loader2,LogOut,MapPin,RefreshCw,User,XCircle!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/map-pin.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_Camera_CheckCircle_Loader2_LogOut_MapPin_RefreshCw_User_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,Camera,CheckCircle,Loader2,LogOut,MapPin,RefreshCw,User,XCircle!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/circle-check-big.js\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! next/image */ \"(app-pages-browser)/./node_modules/next/dist/api/image.js\");\n/* harmony import */ var _components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/components/ui/scroll-area */ \"(app-pages-browser)/./src/components/ui/scroll-area.tsx\");\n// @ts-nocheck\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst AttendancePage = ()=>{\n    _s();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const { toast } = (0,_hooks_use_toast__WEBPACK_IMPORTED_MODULE_8__.useToast)();\n    const [loggedInUserPhone, setLoggedInUserPhone] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [employeeDetails, setEmployeeDetails] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [authCheckCompleted, setAuthCheckCompleted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [isProcessing, setIsProcessing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [statusMessage, setStatusMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Initializing...\");\n    const [progress, setProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [hasCameraPermission, setHasCameraPermission] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isStreamPlaying, setIsStreamPlaying] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [modelsLoaded, setModelsLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [modelsLoading, setModelsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [modelsLoadedError, setModelsLoadedError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isFaceDetected, setIsFaceDetected] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [captureCooldownActive, setCaptureCooldownActive] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [location, setLocation] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [address, setAddress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [locationError, setLocationError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isFetchingLocation, setIsFetchingLocation] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const faceDetectionIntervalRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const autoCaptureTimeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [isClient, setIsClient] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setIsClient(true);\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isClient) return;\n        setStatusMessage(\"Verifying user...\");\n        setProgress(10);\n        const currentLoggedInUser = (0,_services_auth__WEBPACK_IMPORTED_MODULE_11__.checkLoginStatus)();\n        console.log(\"AttendancePage: Auth Check. LoggedInUser from checkLoginStatus():\", currentLoggedInUser);\n        if (!currentLoggedInUser) {\n            toast({\n                title: \"Authentication Required\",\n                description: \"You need to be logged in. Redirecting...\",\n                variant: \"destructive\"\n            });\n            (0,_services_auth__WEBPACK_IMPORTED_MODULE_11__.logoutUser)();\n            router.replace(\"/login\");\n            return;\n        }\n        if (typeof currentLoggedInUser === \"string\") {\n            if (currentLoggedInUser.toLowerCase() === \"admin\") {\n                toast({\n                    title: \"Access Denied\",\n                    description: \"Administrators cannot mark attendance. Redirecting...\",\n                    variant: \"destructive\"\n                });\n                (0,_services_auth__WEBPACK_IMPORTED_MODULE_11__.logoutUser)();\n                router.replace(\"/login\");\n                return;\n            }\n            setLoggedInUserPhone(currentLoggedInUser);\n            setAuthCheckCompleted(true);\n            console.log(\"AttendancePage: User authenticated as employee:\", currentLoggedInUser);\n            setStatusMessage(\"User verified.\");\n            setProgress(20);\n        } else {\n            // This case should ideally not happen if checkLoginStatus is robust\n            toast({\n                title: \"Authentication Error\",\n                description: \"Invalid user session type. Redirecting...\",\n                variant: \"destructive\"\n            });\n            (0,_services_auth__WEBPACK_IMPORTED_MODULE_11__.logoutUser)();\n            router.replace(\"/login\");\n        }\n    }, [\n        isClient,\n        router,\n        toast\n    ]);\n    const fetchEmployeeDetails = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        if (!loggedInUserPhone) return;\n        setStatusMessage(\"Fetching employee details...\");\n        setProgress(30);\n        console.log(\"AttendancePage: Fetching employee details for phone:\", loggedInUserPhone);\n        try {\n            const details = await (0,_services_attendance__WEBPACK_IMPORTED_MODULE_10__.getEmployeeById)(loggedInUserPhone);\n            if (details) {\n                setEmployeeDetails(details);\n                console.log(\"AttendancePage: Employee details fetched:\", details);\n                setStatusMessage(\"Employee details loaded.\");\n                setProgress(40);\n            } else {\n                toast({\n                    title: \"Error\",\n                    description: \"Could not find employee details. Please contact support.\",\n                    variant: \"destructive\"\n                });\n                setStatusMessage(\"Error: Employee details not found.\");\n                (0,_services_auth__WEBPACK_IMPORTED_MODULE_11__.logoutUser)();\n                router.replace(\"/login\");\n            }\n        } catch (error) {\n            console.error(\"AttendancePage: Error fetching employee details:\", error);\n            toast({\n                title: \"Error\",\n                description: \"Failed to fetch employee details.\",\n                variant: \"destructive\"\n            });\n            setStatusMessage(\"Error: Could not fetch employee details.\");\n            (0,_services_auth__WEBPACK_IMPORTED_MODULE_11__.logoutUser)();\n            router.replace(\"/login\");\n        }\n    }, [\n        loggedInUserPhone,\n        router,\n        toast\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isClient && authCheckCompleted && loggedInUserPhone && !employeeDetails) {\n            fetchEmployeeDetails();\n        }\n    }, [\n        isClient,\n        authCheckCompleted,\n        loggedInUserPhone,\n        employeeDetails,\n        fetchEmployeeDetails\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const loadModels = async ()=>{\n            const MODEL_URL = \"/models\";\n            setStatusMessage(\"Loading face recognition models...\");\n            setProgress(50);\n            setModelsLoading(true);\n            setModelsLoadedError(null);\n            console.log(\"AttendancePage: Attempting to load Face API models from:\", MODEL_URL);\n            try {\n                await Promise.all([\n                    face_api_js__WEBPACK_IMPORTED_MODULE_3__.nets.tinyFaceDetector.loadFromUri(MODEL_URL),\n                    face_api_js__WEBPACK_IMPORTED_MODULE_3__.nets.faceLandmark68Net.loadFromUri(MODEL_URL),\n                    face_api_js__WEBPACK_IMPORTED_MODULE_3__.nets.faceRecognitionNet.loadFromUri(MODEL_URL),\n                    face_api_js__WEBPACK_IMPORTED_MODULE_3__.nets.faceExpressionNet.loadFromUri(MODEL_URL)\n                ]);\n                setModelsLoaded(true);\n                setStatusMessage(\"Face recognition models loaded.\");\n                console.log(\"AttendancePage: Face recognition models loaded successfully.\");\n                setProgress(60);\n            } catch (error) {\n                console.error(\"AttendancePage: Error loading face recognition models:\", error);\n                let detailedErrorMessage = \"CRITICAL: Face models failed to load.\\n\\n\";\n                const errorMessageString = String(error.message || \"Unknown error.\");\n                if (errorMessageString.toLowerCase().includes(\"failed to fetch\") || errorMessageString.includes(\"404\")) {\n                    const urlMatch = errorMessageString.match(/from url: (https?:\\/\\/[^\\s]+)/);\n                    const failedUrlPart = urlMatch && urlMatch[1] ? \"(e.g., failed to fetch: \".concat(urlMatch[1], \")\") : \"\";\n                    detailedErrorMessage += 'REASON: Server reported an error (e.g., \"404 Not Found\") for model files '.concat(failedUrlPart, \". This means model files are missing OR THE SERVER NEEDS A RESTART.\\n\\n\");\n                } else {\n                    detailedErrorMessage += \"DETAILS: \".concat(errorMessageString, \"\\n\\n\");\n                }\n                detailedErrorMessage += \"ACTION REQUIRED:\\n\";\n                detailedErrorMessage += \"1. Ensure ALL face-api.js model files are in `public/models/`.\\n\";\n                detailedErrorMessage += \"2. Files: tiny_face_detector_model-weights_manifest.json (+shard1), face_landmark_68_model-weights_manifest.json (+shard1), face_recognition_model-weights_manifest.json (+shards), face_expression_model-weights_manifest.json (+shard1) are essential.\\n\";\n                detailedErrorMessage += \"3. After placing/verifying files, RESTART your development server. If deployed, ensure deployment includes these files and server instance is updated/restarted.\\n\";\n                detailedErrorMessage += \"4. Verify server serves static files from 'public' by accessing a model manifest in browser (e.g., your-app-url.com/models/tiny_face_detector_model-weights_manifest.json).\\n\";\n                setModelsLoadedError(detailedErrorMessage);\n                setStatusMessage(\"Error: Face models failed. See details in camera feed area.\");\n                toast({\n                    title: \"CRITICAL: Face Models Missing/Error!\",\n                    description: \"Face models couldn't load. Camera feed area shows instructions. Ensure models are in 'public/models' & server restarted if files were added.\",\n                    variant: \"destructive\",\n                    duration: 90000\n                });\n            } finally{\n                setModelsLoading(false);\n            }\n        };\n        if (isClient && authCheckCompleted && employeeDetails && !modelsLoaded && !modelsLoading && !modelsLoadedError) {\n            loadModels();\n        }\n    }, [\n        isClient,\n        authCheckCompleted,\n        employeeDetails,\n        modelsLoaded,\n        modelsLoading,\n        modelsLoadedError,\n        toast\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const getCameraPermission = async ()=>{\n            setStatusMessage(\"Requesting camera access...\");\n            setProgress(70);\n            console.log(\"AttendancePage: Attempting to get camera permission.\");\n            if (typeof navigator === \"undefined\" || !navigator.mediaDevices || typeof navigator.mediaDevices.getUserMedia !== \"function\") {\n                console.error(\"AttendancePage: navigator.mediaDevices.getUserMedia is not available.\");\n                setHasCameraPermission(false);\n                setIsStreamPlaying(false);\n                setStatusMessage(\"Error: Camera API not available or not supported.\");\n                toast({\n                    variant: \"destructive\",\n                    title: \"Camera Not Supported\",\n                    description: \"Browser does not support camera features or access is disabled.\"\n                });\n                return;\n            }\n            try {\n                const stream = await navigator.mediaDevices.getUserMedia({\n                    video: {\n                        facingMode: \"user\"\n                    }\n                });\n                if (videoRef.current) {\n                    videoRef.current.srcObject = stream;\n                    setHasCameraPermission(true);\n                    setStatusMessage(\"Camera connected. Initializing stream playback...\");\n                    console.log(\"AttendancePage: Camera permission obtained. Stream assigned. Waiting for media to be ready.\");\n                    videoRef.current.oncanplay = ()=>{\n                        var _videoRef_current;\n                        console.log(\"AttendancePage: oncanplay event fired. Video readyState:\", (_videoRef_current = videoRef.current) === null || _videoRef_current === void 0 ? void 0 : _videoRef_current.readyState);\n                        if (videoRef.current) {\n                            videoRef.current.play().then(()=>{\n                                console.log(\"AttendancePage: Video play() promise resolved.\");\n                            }).catch((playError)=>{\n                                console.error(\"AttendancePage: Error playing video stream via oncanplay:\", playError);\n                                setIsStreamPlaying(false);\n                                setStatusMessage(\"Error: Camera playback failed: \".concat(playError.message, \". Try interacting with page.\"));\n                                toast({\n                                    variant: \"warning\",\n                                    title: \"Camera Playback Issue\",\n                                    description: \"Playback failed: \".concat(playError.message, \". Browser might require interaction (click/tap page) to start video.\"),\n                                    duration: 15000\n                                });\n                            });\n                        }\n                    };\n                    videoRef.current.onplaying = ()=>{\n                        console.log(\"AttendancePage: Video 'playing' event fired.\");\n                        setIsStreamPlaying(true);\n                        setStatusMessage(\"Camera active and streaming.\");\n                        setProgress(80);\n                    };\n                    videoRef.current.onpause = ()=>{\n                        console.log(\"AttendancePage: Video 'pause' event fired.\");\n                        setIsStreamPlaying(false);\n                        if (!statusMessage.toLowerCase().includes(\"error\") && !isProcessing) {\n                            setStatusMessage(\"Camera paused. Ensure it's not covered.\");\n                        }\n                    };\n                    videoRef.current.onended = ()=>{\n                        console.warn(\"AttendancePage: Video track ended unexpectedly.\");\n                        setIsStreamPlaying(false);\n                        setHasCameraPermission(false);\n                        setStatusMessage(\"Error: Camera stream ended. Refresh or check camera.\");\n                        toast({\n                            title: \"Camera Stream Ended\",\n                            description: \"Camera connection lost. Refresh page.\",\n                            variant: \"destructive\"\n                        });\n                        if (faceDetectionIntervalRef.current) clearInterval(faceDetectionIntervalRef.current);\n                        if (autoCaptureTimeoutRef.current) clearTimeout(autoCaptureTimeoutRef.current);\n                        setIsFaceDetected(false);\n                        if (videoRef.current) {\n                            const currentStream = videoRef.current.srcObject;\n                            if (currentStream) {\n                                currentStream.getTracks().forEach((track)=>track.stop());\n                            }\n                            videoRef.current.srcObject = null;\n                            videoRef.current.load();\n                        }\n                    };\n                    videoRef.current.onerror = (e)=>{\n                        var _videoRef_current, _videoRef_current_error, _videoRef_current1;\n                        console.error(\"AttendancePage: HTMLVideoElement error event:\", e, (_videoRef_current = videoRef.current) === null || _videoRef_current === void 0 ? void 0 : _videoRef_current.error);\n                        setIsStreamPlaying(false);\n                        setHasCameraPermission(false);\n                        const errorMsg = ((_videoRef_current1 = videoRef.current) === null || _videoRef_current1 === void 0 ? void 0 : (_videoRef_current_error = _videoRef_current1.error) === null || _videoRef_current_error === void 0 ? void 0 : _videoRef_current_error.message) || \"Unknown video error\";\n                        setStatusMessage(\"Error: Video element error: \".concat(errorMsg, \". Try refreshing.\"));\n                        toast({\n                            variant: \"destructive\",\n                            title: \"Video Element Error\",\n                            description: \"Video player error: \".concat(errorMsg, \". Check camera or refresh.\")\n                        });\n                    };\n                    videoRef.current.load();\n                } else {\n                    console.error(\"AttendancePage: videoRef.current IS NULL when trying to set srcObject.\");\n                    setHasCameraPermission(false);\n                    setIsStreamPlaying(false);\n                    setStatusMessage(\"Error: Camera component not ready.\");\n                    toast({\n                        title: \"Internal Error\",\n                        description: \"Camera component not ready.\",\n                        variant: \"destructive\"\n                    });\n                }\n            } catch (error) {\n                console.error(\"AttendancePage: Error accessing camera during getUserMedia:\", error);\n                setHasCameraPermission(false);\n                setIsStreamPlaying(false);\n                let title = \"Camera Access Issue\";\n                let description = error.message || \"An unexpected error occurred.\";\n                if (error.name === \"NotAllowedError\") {\n                    title = \"Permission Denied\";\n                    description = \"Camera access denied. Enable permissions in browser settings.\";\n                } else if (error.name === \"NotFoundError\") {\n                    title = \"Camera Not Found\";\n                    description = \"No camera detected. Ensure it is connected and enabled.\";\n                }\n                setStatusMessage(\"Error: \".concat(description));\n                toast({\n                    variant: \"destructive\",\n                    title: title,\n                    description: description\n                });\n            }\n        };\n        if (isClient && authCheckCompleted && employeeDetails && modelsLoaded && !modelsLoadedError && hasCameraPermission === null) {\n            getCameraPermission();\n        }\n    }, [\n        isClient,\n        authCheckCompleted,\n        employeeDetails,\n        modelsLoaded,\n        modelsLoadedError,\n        hasCameraPermission,\n        toast,\n        statusMessage,\n        isProcessing\n    ]);\n    const fetchLocationAndAddress = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        if (!isClient || !authCheckCompleted || !employeeDetails || isFetchingLocation) {\n            if (isLoading && !statusMessage.toLowerCase().includes(\"error\")) setIsLoading(false);\n            return;\n        }\n        setIsLoading(true); // Keep this to show overall loading if needed initially\n        setIsFetchingLocation(true);\n        setStatusMessage(\"Getting your current location...\");\n        setLocationError(null);\n        setAddress(null);\n        setLocation(null);\n        setProgress(85);\n        try {\n            const coords = await (0,_services_geo_location__WEBPACK_IMPORTED_MODULE_9__.getCurrentPosition)();\n            setLocation({\n                latitude: coords.latitude,\n                longitude: coords.longitude\n            });\n            setStatusMessage(\"Location acquired. Fetching address...\");\n            setProgress(90);\n            const addr = await (0,_services_geo_location__WEBPACK_IMPORTED_MODULE_9__.getAddressFromCoordinates)(coords.latitude, coords.longitude);\n            setAddress(addr);\n            setStatusMessage(\"Location and address ready.\");\n            setProgress(100);\n            setLocationError(null); // Clear previous errors\n        } catch (error) {\n            console.error(\"AttendancePage: Error in fetchLocationAndAddress:\", error);\n            let userFriendlyMessage = \"Could not get location or address. Please ensure GPS and network are active, and browser permissions are granted for location services.\";\n            if (error instanceof _services_geo_location__WEBPACK_IMPORTED_MODULE_9__.GeolocationError) {\n                userFriendlyMessage = error.message; // Use specific message from GeolocationError\n            } else if (error.message) {\n                userFriendlyMessage = error.message;\n            }\n            setLocationError(userFriendlyMessage);\n            setStatusMessage(\"Error: \".concat(userFriendlyMessage)); // Update main status\n            toast({\n                title: \"Location Error\",\n                description: userFriendlyMessage,\n                variant: \"destructive\",\n                duration: 10000\n            });\n            setProgress(0); // Reset progress on error\n        } finally{\n            setIsFetchingLocation(false);\n            // Only set isLoading to false if this was the main loading step.\n            // If models/camera are still loading, keep isLoading true.\n            if (modelsLoaded && hasCameraPermission !== null) {\n                setIsLoading(false);\n            }\n        }\n    }, [\n        isClient,\n        authCheckCompleted,\n        employeeDetails,\n        toast,\n        isFetchingLocation,\n        isLoading,\n        statusMessage,\n        modelsLoaded,\n        hasCameraPermission\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isClient && authCheckCompleted && employeeDetails && hasCameraPermission === true && modelsLoaded && !modelsLoadedError) {\n            if (!location && !locationError && !isFetchingLocation) {\n                fetchLocationAndAddress();\n            }\n        } else if (isClient && authCheckCompleted && employeeDetails && (hasCameraPermission !== true || !modelsLoaded || modelsLoadedError)) {\n            if (isLoading && !statusMessage.toLowerCase().includes(\"error\")) {\n                if (!modelsLoadedError && hasCameraPermission !== false) {\n                    if (!statusMessage.toLowerCase().includes(\"camera\") && !statusMessage.toLowerCase().includes(\"model\")) {\n                    // If everything else is fine but location hasn't started, don't just set loading false\n                    } else {\n                        setIsLoading(false);\n                    }\n                } else {\n                    setIsLoading(false);\n                }\n            }\n        }\n    }, [\n        isClient,\n        authCheckCompleted,\n        employeeDetails,\n        hasCameraPermission,\n        modelsLoaded,\n        fetchLocationAndAddress,\n        modelsLoadedError,\n        isLoading,\n        statusMessage,\n        location,\n        locationError,\n        isFetchingLocation\n    ]);\n    const captureAndMarkAttendance = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (method)=>{\n        if (!videoRef.current || !canvasRef.current || !location || !address || !employeeDetails || isProcessing || captureCooldownActive || modelsLoadedError || !isStreamPlaying) {\n            let missingInfo = [];\n            if (!isStreamPlaying) missingInfo.push(\"camera stream not active\");\n            if (!location || !address) missingInfo.push(\"location/address data\");\n            if (!employeeDetails) missingInfo.push(\"employee details\");\n            if (isProcessing) missingInfo.push(\"process running\");\n            if (captureCooldownActive) missingInfo.push(\"cooldown active\");\n            if (modelsLoadedError) missingInfo.push(\"face models error\");\n            const message = \"Cannot Mark Attendance. Missing: \".concat(missingInfo.join(\", \") || \"conditions\", \". \").concat(modelsLoadedError ? \"Fix model loading issue.\" : \"\");\n            console.warn(\"AttendancePage: Capture skipped (Method: \".concat(method, \"). \").concat(message));\n            if (method === \"manual\" && !captureCooldownActive) {\n                toast({\n                    title: \"Cannot Mark Attendance\",\n                    description: message,\n                    variant: \"warning\",\n                    duration: 7000\n                });\n            }\n            setIsProcessing(false);\n            return;\n        }\n        setIsProcessing(true);\n        setCaptureCooldownActive(true);\n        setStatusMessage(\"Capturing attendance (\".concat(method, \")...\"));\n        setProgress(50);\n        const video = videoRef.current;\n        const canvas = canvasRef.current;\n        canvas.width = video.videoWidth;\n        canvas.height = video.videoHeight;\n        const context = canvas.getContext(\"2d\");\n        if (!context) {\n            toast({\n                title: \"Capture Error\",\n                description: \"Failed to init image capture.\",\n                variant: \"destructive\"\n            });\n            setIsProcessing(false);\n            setCaptureCooldownActive(false); // Reset cooldown if capture fails early\n            return;\n        }\n        context.drawImage(video, 0, 0, canvas.width, canvas.height);\n        const photoDataUri = canvas.toDataURL(\"image/jpeg\");\n        const attendanceData = {\n            employeeId: employeeDetails.employeeId,\n            phone: employeeDetails.phone,\n            name: employeeDetails.name,\n            timestamp: new Date(),\n            latitude: location.latitude,\n            longitude: location.longitude,\n            address: address,\n            photoDataUri: photoDataUri,\n            captureMethod: method,\n            shiftTiming: employeeDetails.shiftTiming,\n            workingLocation: employeeDetails.workingLocation\n        };\n        try {\n            await (0,_services_attendance__WEBPACK_IMPORTED_MODULE_10__.saveAttendance)(attendanceData);\n            setStatusMessage(\"Attendance marked via \".concat(method, \" at \").concat(new Date().toLocaleTimeString(), \"!\"));\n            setProgress(100);\n            toast({\n                title: \"Attendance Marked\",\n                description: \"Marked for \".concat(employeeDetails.name, \".\"),\n                variant: \"default\"\n            });\n        } catch (error) {\n            setStatusMessage(\"Error: Could not save attendance. \".concat(error.message || \"\"));\n            setProgress(0);\n            toast({\n                title: \"Attendance Error\",\n                description: \"Failed to save. \".concat(error.message || \"Try again.\"),\n                variant: \"destructive\"\n            });\n        } finally{\n            setIsProcessing(false);\n            setTimeout(()=>setCaptureCooldownActive(false), 5000); // 5-second cooldown\n        }\n    }, [\n        location,\n        address,\n        employeeDetails,\n        toast,\n        isProcessing,\n        captureCooldownActive,\n        modelsLoadedError,\n        isStreamPlaying\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isClient || !modelsLoaded || modelsLoadedError || !isStreamPlaying || !videoRef.current || isLoading || !!locationError || isFetchingLocation) {\n            if (faceDetectionIntervalRef.current) clearInterval(faceDetectionIntervalRef.current);\n            if (autoCaptureTimeoutRef.current) clearTimeout(autoCaptureTimeoutRef.current);\n            setIsFaceDetected(false);\n            return;\n        }\n        const video = videoRef.current;\n        const startFaceDetection = ()=>{\n            faceDetectionIntervalRef.current = setInterval(async ()=>{\n                if (video && isStreamPlaying && !isProcessing && !captureCooldownActive && modelsLoaded && !modelsLoadedError && location && address) {\n                    const detections = await face_api_js__WEBPACK_IMPORTED_MODULE_3__.detectAllFaces(video, new face_api_js__WEBPACK_IMPORTED_MODULE_3__.TinyFaceDetectorOptions({\n                        scoreThreshold: 0.5\n                    })).withFaceLandmarks().withFaceExpressions();\n                    if (detections && detections.length > 0) {\n                        const mainFace = detections[0];\n                        const faceConfidence = mainFace.detection.score;\n                        const isSmiling = mainFace.expressions.happy > 0.6; // Smile detection threshold\n                        if (faceConfidence > 0.75 && isSmiling) {\n                            setIsFaceDetected(true);\n                            if (!autoCaptureTimeoutRef.current) {\n                                setStatusMessage(\"Face detected! Auto-capturing in 2s...\");\n                                autoCaptureTimeoutRef.current = setTimeout(()=>{\n                                    var _videoRef_current;\n                                    if (isFaceDetected && !isProcessing && !captureCooldownActive && location && address && modelsLoaded && !modelsLoadedError && isStreamPlaying && ((_videoRef_current = videoRef.current) === null || _videoRef_current === void 0 ? void 0 : _videoRef_current.srcObject)) {\n                                        captureAndMarkAttendance(\"auto\");\n                                    }\n                                    autoCaptureTimeoutRef.current = null; // Clear timeout ref after execution\n                                }, 2000); // 2-second delay\n                            }\n                        } else {\n                            setIsFaceDetected(false);\n                            if (autoCaptureTimeoutRef.current) clearTimeout(autoCaptureTimeoutRef.current);\n                            autoCaptureTimeoutRef.current = null;\n                            if (!statusMessage.includes(\"capturing\") && !statusMessage.includes(\"marked\") && !statusMessage.toLowerCase().includes(\"error\")) {\n                                if (faceConfidence <= 0.75) setStatusMessage(\"Face not clear enough. Adjust position.\");\n                                else if (!isSmiling) setStatusMessage(\"Please smile for the camera!\");\n                            }\n                        }\n                    } else {\n                        setIsFaceDetected(false);\n                        if (autoCaptureTimeoutRef.current) clearTimeout(autoCaptureTimeoutRef.current);\n                        autoCaptureTimeoutRef.current = null;\n                        if (!statusMessage.includes(\"capturing\") && !statusMessage.includes(\"marked\") && !statusMessage.toLowerCase().includes(\"error\")) setStatusMessage(\"No face detected. Ensure good lighting & clear view.\");\n                    }\n                }\n            }, 1000); // Detection interval\n        };\n        startFaceDetection();\n        return ()=>{\n            if (faceDetectionIntervalRef.current) clearInterval(faceDetectionIntervalRef.current);\n            if (autoCaptureTimeoutRef.current) clearTimeout(autoCaptureTimeoutRef.current);\n        };\n    }, [\n        isClient,\n        modelsLoaded,\n        modelsLoadedError,\n        isStreamPlaying,\n        isLoading,\n        locationError,\n        isFetchingLocation,\n        captureAndMarkAttendance,\n        isProcessing,\n        captureCooldownActive,\n        location,\n        address,\n        statusMessage\n    ]);\n    const handleManualCapture = ()=>{\n        if (captureCooldownActive) {\n            toast({\n                title: \"Cooldown Active\",\n                description: \"Wait a moment before trying again.\",\n                variant: \"warning\"\n            });\n            return;\n        }\n        if (modelsLoadedError) {\n            toast({\n                title: \"Models Error\",\n                description: \"Face models failed. Cannot capture. Fix model loading.\",\n                variant: \"destructive\"\n            });\n            return;\n        }\n        if (!isStreamPlaying) {\n            toast({\n                title: \"Camera Issue\",\n                description: \"Camera not ready or stream not active.\",\n                variant: \"warning\"\n            });\n            return;\n        }\n        if (!location || !address) {\n            toast({\n                title: \"Location Missing\",\n                description: \"Location data unavailable. Wait or refresh.\",\n                variant: \"warning\"\n            });\n            return;\n        }\n        if (!modelsLoaded) {\n            toast({\n                title: \"Models Not Ready\",\n                description: \"Face models still loading or failed. Please wait.\",\n                variant: \"warning\"\n            });\n            return;\n        }\n        captureAndMarkAttendance(\"manual\");\n    };\n    const handleLogout = ()=>{\n        (0,_services_auth__WEBPACK_IMPORTED_MODULE_11__.logoutUser)();\n        if (faceDetectionIntervalRef.current) clearInterval(faceDetectionIntervalRef.current);\n        if (autoCaptureTimeoutRef.current) clearTimeout(autoCaptureTimeoutRef.current);\n        if (videoRef.current && videoRef.current.srcObject) {\n            const stream = videoRef.current.srcObject;\n            stream.getTracks().forEach((track)=>track.stop());\n            videoRef.current.srcObject = null;\n        }\n        setIsStreamPlaying(false);\n        setHasCameraPermission(null);\n        toast({\n            title: \"Logged Out\",\n            description: \"Successfully logged out.\"\n        });\n        router.replace(\"/login\");\n    };\n    const handleRefreshLocation = ()=>{\n        if (!isFetchingLocation) {\n            fetchLocationAndAddress();\n        } else {\n            toast({\n                title: \"Please Wait\",\n                description: \"Location fetch already in progress.\",\n                variant: \"default\"\n            });\n        }\n    };\n    if (!isClient || !authCheckCompleted || !employeeDetails && !statusMessage.toLowerCase().includes(\"error: employee details not found\")) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-gray-100 to-gray-300 dark:from-gray-800 dark:to-gray-900 p-4\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Camera_CheckCircle_Loader2_LogOut_MapPin_RefreshCw_User_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                    className: \"h-12 w-12 animate-spin text-primary mb-4\"\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 551,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-lg text-muted-foreground\",\n                    children: statusMessage\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 552,\n                    columnNumber: 9\n                }, undefined),\n                (isLoading || modelsLoading || isFetchingLocation) && !statusMessage.toLowerCase().includes(\"error\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_progress__WEBPACK_IMPORTED_MODULE_6__.Progress, {\n                    value: progress,\n                    className: \"w-1/2 mt-4 h-2.5 rounded-full\"\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 554,\n                    columnNumber: 11\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/user/studio/src/app/page.tsx\",\n            lineNumber: 550,\n            columnNumber: 7\n        }, undefined);\n    }\n    const showGeneralLoadingScreen = (isLoading || modelsLoading || isFetchingLocation) && (!modelsLoaded || hasCameraPermission === null || !location && !locationError) && !modelsLoadedError;\n    if (showGeneralLoadingScreen) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-gray-100 to-gray-300 dark:from-gray-800 dark:to-gray-900 p-4\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Camera_CheckCircle_Loader2_LogOut_MapPin_RefreshCw_User_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                    className: \"h-12 w-12 animate-spin text-primary mb-4\"\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 565,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-lg text-muted-foreground\",\n                    children: statusMessage\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 566,\n                    columnNumber: 9\n                }, undefined),\n                !statusMessage.toLowerCase().includes(\"error\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_progress__WEBPACK_IMPORTED_MODULE_6__.Progress, {\n                    value: progress,\n                    className: \"w-1/2 mt-4 h-2.5 rounded-full\"\n                }, void 0, false, {\n                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                    lineNumber: 567,\n                    columnNumber: 60\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/user/studio/src/app/page.tsx\",\n            lineNumber: 564,\n            columnNumber: 7\n        }, undefined);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative flex flex-col items-center justify-start min-h-screen bg-gradient-to-br from-slate-100 via-gray-100 to-stone-200 dark:from-slate-800 dark:via-gray-900 dark:to-neutral-900 p-4 pt-8 md:pt-12 overflow-hidden\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                \"data-ai-hint\": \"abstract background\",\n                src: \"https://picsum.photos/seed/attendancebg/1920/1080\",\n                alt: \"Abstract background\",\n                fill: true,\n                style: {\n                    objectFit: \"cover\"\n                },\n                quality: 50,\n                className: \"absolute inset-0 z-0 opacity-5 dark:opacity-[0.03]\"\n            }, void 0, false, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 574,\n                columnNumber: 8\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                className: \"relative z-10 w-full max-w-4xl mb-6 flex justify-between items-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"p-2 bg-primary/10 rounded-full\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    xmlns: \"http://www.w3.org/2000/svg\",\n                                    viewBox: \"0 0 24 24\",\n                                    fill: \"currentColor\",\n                                    className: \"w-8 h-8 text-primary\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        d: \"M18.375 2.25c-1.035 0-1.875.84-1.875 1.875v15.75c0 1.035.84 1.875 1.875 1.875h.75c1.035 0 1.875-.84 1.875-1.875V4.125c0-1.035-.84-1.875-1.875-1.875h-.75ZM9.75 8.625c0-1.035.84-1.875 1.875-1.875h.75c1.035 0 1.875.84 1.875 1.875V21.75c0 1.035-.84 1.875-1.875-1.875h-.75c-1.035 0-1.875-.84-1.875-1.875V8.625ZM3 13.125c0-1.035.84-1.875 1.875-1.875h.75c1.035 0 1.875.84 1.875 1.875V21.75c0 1.035-.84 1.875-1.875-1.875h-.75A1.875 1.875 0 0 1 3 21.75V13.125Z\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/src/app/page.tsx\",\n                                        lineNumber: 588,\n                                        columnNumber: 16\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                                    lineNumber: 587,\n                                    columnNumber: 14\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/src/app/page.tsx\",\n                                lineNumber: 586,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                        className: \"text-2xl md:text-3xl font-bold text-primary\",\n                                        children: \"FieldTrack\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/src/app/page.tsx\",\n                                        lineNumber: 592,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm text-muted-foreground\",\n                                        children: \"E Wheels and Logistics\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/src/app/page.tsx\",\n                                        lineNumber: 593,\n                                        columnNumber: 17\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/studio/src/app/page.tsx\",\n                                lineNumber: 591,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/studio/src/app/page.tsx\",\n                        lineNumber: 585,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                        variant: \"outline\",\n                        onClick: handleLogout,\n                        size: \"sm\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Camera_CheckCircle_Loader2_LogOut_MapPin_RefreshCw_User_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                className: \"mr-2 h-4 w-4\"\n                            }, void 0, false, {\n                                fileName: \"/home/user/studio/src/app/page.tsx\",\n                                lineNumber: 597,\n                                columnNumber: 11\n                            }, undefined),\n                            \" Logout\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/studio/src/app/page.tsx\",\n                        lineNumber: 596,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 584,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                className: \"relative z-10 w-full max-w-4xl grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.Card, {\n                        className: \"shadow-xl col-span-1 bg-card/80 backdrop-blur-sm dark:bg-card/70\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardHeader, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardTitle, {\n                                        className: \"flex items-center gap-2 text-xl\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Camera_CheckCircle_Loader2_LogOut_MapPin_RefreshCw_User_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                                className: \"text-primary\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/src/app/page.tsx\",\n                                                lineNumber: 605,\n                                                columnNumber: 15\n                                            }, undefined),\n                                            \" Camera Feed\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/studio/src/app/page.tsx\",\n                                        lineNumber: 604,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardDescription, {\n                                        className: \"text-xs whitespace-pre-line min-h-[3em]\",\n                                        children: modelsLoadedError ? \"See detailed error below.\" : hasCameraPermission === null ? \"Initializing camera...\" : hasCameraPermission === false ? \"Camera access denied or failed. Grant permission & refresh.\" : !modelsLoaded && modelsLoading ? \"Loading face models...\" : hasCameraPermission && modelsLoaded && isStreamPlaying ? \"Position face in center & smile for auto-capture.\" : hasCameraPermission && modelsLoaded && !isStreamPlaying ? \"Camera stream initializing or paused. Ensure camera is not covered.\" : \"Camera status unknown. Ensure permissions.\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/src/app/page.tsx\",\n                                        lineNumber: 607,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/studio/src/app/page.tsx\",\n                                lineNumber: 603,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardContent, {\n                                className: \"relative aspect-[4/3] overflow-hidden rounded-b-lg bg-muted dark:bg-muted/30\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                                        ref: videoRef,\n                                        className: \"absolute top-0 left-0 w-full h-full object-cover rounded-b-lg\",\n                                        autoPlay: true,\n                                        playsInline: true,\n                                        muted: true\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/src/app/page.tsx\",\n                                        lineNumber: 620,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                                        ref: canvasRef,\n                                        className: \"absolute top-0 left-0 w-full h-full object-cover hidden\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/src/app/page.tsx\",\n                                        lineNumber: 628,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    hasCameraPermission === false && !modelsLoadedError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute inset-0 flex flex-col items-center justify-center bg-black/80 text-white p-4 rounded-b-lg text-center\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Camera_CheckCircle_Loader2_LogOut_MapPin_RefreshCw_User_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                                className: \"w-12 h-12 mb-2 text-destructive\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/src/app/page.tsx\",\n                                                lineNumber: 632,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                children: \"Camera permission denied or camera error. Enable in browser settings & refresh.\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/src/app/page.tsx\",\n                                                lineNumber: 633,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/studio/src/app/page.tsx\",\n                                        lineNumber: 631,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    isStreamPlaying && modelsLoaded && !modelsLoadedError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute bottom-2 right-2 px-2 py-1 rounded text-xs font-medium \".concat(isFaceDetected ? \"bg-green-500/90 text-white\" : \"bg-red-500/90 text-white\"),\n                                        children: isFaceDetected ? \"Face Clear\" : \"Face Not Clear\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/src/app/page.tsx\",\n                                        lineNumber: 637,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    hasCameraPermission === true && !modelsLoaded && modelsLoading && !modelsLoadedError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute inset-0 flex flex-col items-center justify-center bg-black/50 text-white p-4 rounded-b-lg\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Camera_CheckCircle_Loader2_LogOut_MapPin_RefreshCw_User_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                                className: \"w-8 h-8 animate-spin mb-2\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/src/app/page.tsx\",\n                                                lineNumber: 643,\n                                                columnNumber: 21\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                children: \"Loading face models...\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/src/app/page.tsx\",\n                                                lineNumber: 644,\n                                                columnNumber: 21\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/studio/src/app/page.tsx\",\n                                        lineNumber: 642,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    hasCameraPermission === true && modelsLoaded && !modelsLoadedError && !isStreamPlaying && !statusMessage.toLowerCase().includes(\"error\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute inset-0 flex flex-col items-center justify-center bg-black/50 text-white p-4 rounded-b-lg text-center\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Camera_CheckCircle_Loader2_LogOut_MapPin_RefreshCw_User_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                                className: \"w-8 h-8 animate-spin mb-2\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/src/app/page.tsx\",\n                                                lineNumber: 649,\n                                                columnNumber: 21\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                children: \"Initializing video stream...\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/src/app/page.tsx\",\n                                                lineNumber: 650,\n                                                columnNumber: 21\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/studio/src/app/page.tsx\",\n                                        lineNumber: 648,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    modelsLoadedError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute inset-0 flex flex-col items-center justify-center bg-destructive/90 text-destructive-foreground p-4 rounded-b-lg text-center overflow-y-auto\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Camera_CheckCircle_Loader2_LogOut_MapPin_RefreshCw_User_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                className: \"w-10 h-10 mb-2 flex-shrink-0\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/src/app/page.tsx\",\n                                                lineNumber: 655,\n                                                columnNumber: 19\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"font-semibold text-base mb-1\",\n                                                children: \"Critical Error: Models Failed\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/src/app/page.tsx\",\n                                                lineNumber: 656,\n                                                columnNumber: 19\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_13__.ScrollArea, {\n                                                className: \"max-h-[120px] text-xs whitespace-pre-line text-left px-2 mb-2 bg-destructive/30 rounded-sm py-1\",\n                                                children: modelsLoadedError\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/src/app/page.tsx\",\n                                                lineNumber: 657,\n                                                columnNumber: 19\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                                onClick: ()=>window.location.reload(),\n                                                className: \"mt-2\",\n                                                size: \"sm\",\n                                                variant: \"secondary\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Camera_CheckCircle_Loader2_LogOut_MapPin_RefreshCw_User_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                                        className: \"mr-2 h-3 w-3\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/studio/src/app/page.tsx\",\n                                                        lineNumber: 661,\n                                                        columnNumber: 23\n                                                    }, undefined),\n                                                    \" Refresh Page\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/user/studio/src/app/page.tsx\",\n                                                lineNumber: 660,\n                                                columnNumber: 20\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/studio/src/app/page.tsx\",\n                                        lineNumber: 654,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/studio/src/app/page.tsx\",\n                                lineNumber: 618,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/studio/src/app/page.tsx\",\n                        lineNumber: 602,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.Card, {\n                        className: \"shadow-xl col-span-1 bg-card/80 backdrop-blur-sm dark:bg-card/70\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardHeader, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardTitle, {\n                                        className: \"flex items-center gap-2 text-xl\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Camera_CheckCircle_Loader2_LogOut_MapPin_RefreshCw_User_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                                className: \"text-primary\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/src/app/page.tsx\",\n                                                lineNumber: 671,\n                                                columnNumber: 15\n                                            }, undefined),\n                                            \" Employee Details\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/studio/src/app/page.tsx\",\n                                        lineNumber: 670,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    employeeDetails ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardDescription, {\n                                        children: [\n                                            \"Welcome, \",\n                                            employeeDetails.name,\n                                            \"! Ready to mark attendance.\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/studio/src/app/page.tsx\",\n                                        lineNumber: 674,\n                                        columnNumber: 15\n                                    }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardDescription, {\n                                        children: \"Loading employee information...\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/src/app/page.tsx\",\n                                        lineNumber: 676,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/studio/src/app/page.tsx\",\n                                lineNumber: 669,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardContent, {\n                                className: \"space-y-3 text-sm\",\n                                children: [\n                                    employeeDetails ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                        children: \"ID:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/studio/src/app/page.tsx\",\n                                                        lineNumber: 682,\n                                                        columnNumber: 20\n                                                    }, undefined),\n                                                    \" \",\n                                                    employeeDetails.employeeId\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/user/studio/src/app/page.tsx\",\n                                                lineNumber: 682,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                        children: \"Phone:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/studio/src/app/page.tsx\",\n                                                        lineNumber: 683,\n                                                        columnNumber: 20\n                                                    }, undefined),\n                                                    \" \",\n                                                    employeeDetails.phone\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/user/studio/src/app/page.tsx\",\n                                                lineNumber: 683,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                        children: \"Shift:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/studio/src/app/page.tsx\",\n                                                        lineNumber: 684,\n                                                        columnNumber: 20\n                                                    }, undefined),\n                                                    \" \",\n                                                    employeeDetails.shiftTiming\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/user/studio/src/app/page.tsx\",\n                                                lineNumber: 684,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                        children: \"Work Site:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/studio/src/app/page.tsx\",\n                                                        lineNumber: 685,\n                                                        columnNumber: 20\n                                                    }, undefined),\n                                                    \" \",\n                                                    employeeDetails.workingLocation\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/user/studio/src/app/page.tsx\",\n                                                lineNumber: 685,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-2 text-muted-foreground\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Camera_CheckCircle_Loader2_LogOut_MapPin_RefreshCw_User_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                                className: \"h-4 w-4 animate-spin\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/src/app/page.tsx\",\n                                                lineNumber: 689,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            \" Loading details...\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/studio/src/app/page.tsx\",\n                                        lineNumber: 688,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {\n                                        className: \"my-3 border-border/50\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/src/app/page.tsx\",\n                                        lineNumber: 692,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center justify-between\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-2 font-semibold text-primary\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Camera_CheckCircle_Loader2_LogOut_MapPin_RefreshCw_User_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                                        size: 18\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/user/studio/src/app/page.tsx\",\n                                                        lineNumber: 695,\n                                                        columnNumber: 21\n                                                    }, undefined),\n                                                    \" Current Location:\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/user/studio/src/app/page.tsx\",\n                                                lineNumber: 694,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                                variant: \"outline\",\n                                                size: \"sm\",\n                                                onClick: handleRefreshLocation,\n                                                disabled: isFetchingLocation,\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Camera_CheckCircle_Loader2_LogOut_MapPin_RefreshCw_User_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                                    className: \"h-3 w-3 \".concat(isFetchingLocation ? \"animate-spin\" : \"\")\n                                                }, void 0, false, {\n                                                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                                                    lineNumber: 698,\n                                                    columnNumber: 21\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/src/app/page.tsx\",\n                                                lineNumber: 697,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/studio/src/app/page.tsx\",\n                                        lineNumber: 693,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    isFetchingLocation && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-2 text-muted-foreground\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Camera_CheckCircle_Loader2_LogOut_MapPin_RefreshCw_User_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                                className: \"h-4 w-4 animate-spin\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/src/app/page.tsx\",\n                                                lineNumber: 701,\n                                                columnNumber: 99\n                                            }, undefined),\n                                            \" Fetching location...\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/studio/src/app/page.tsx\",\n                                        lineNumber: 701,\n                                        columnNumber: 36\n                                    }, undefined),\n                                    locationError && !isFetchingLocation && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_alert__WEBPACK_IMPORTED_MODULE_7__.Alert, {\n                                        variant: \"destructive\",\n                                        className: \"text-xs mt-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Camera_CheckCircle_Loader2_LogOut_MapPin_RefreshCw_User_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                className: \"h-4 w-4\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/src/app/page.tsx\",\n                                                lineNumber: 702,\n                                                columnNumber: 108\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_alert__WEBPACK_IMPORTED_MODULE_7__.AlertTitle, {\n                                                children: \"Location Error\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/src/app/page.tsx\",\n                                                lineNumber: 702,\n                                                columnNumber: 145\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_alert__WEBPACK_IMPORTED_MODULE_7__.AlertDescription, {\n                                                children: locationError\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/src/app/page.tsx\",\n                                                lineNumber: 702,\n                                                columnNumber: 184\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/studio/src/app/page.tsx\",\n                                        lineNumber: 702,\n                                        columnNumber: 54\n                                    }, undefined),\n                                    location && !isFetchingLocation && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-muted-foreground\",\n                                        children: [\n                                            \"Lat: \",\n                                            location.latitude.toFixed(5),\n                                            \", Lon: \",\n                                            location.longitude.toFixed(5)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/studio/src/app/page.tsx\",\n                                        lineNumber: 704,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    address && !isFetchingLocation && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-muted-foreground text-xs\",\n                                        children: address\n                                    }, void 0, false, {\n                                        fileName: \"/home/user/studio/src/app/page.tsx\",\n                                        lineNumber: 708,\n                                        columnNumber: 48\n                                    }, undefined),\n                                    !address && location && !locationError && !isFetchingLocation && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-muted-foreground text-xs flex items-center gap-1\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Camera_CheckCircle_Loader2_LogOut_MapPin_RefreshCw_User_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                                className: \"h-3 w-3 animate-spin\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/user/studio/src/app/page.tsx\",\n                                                lineNumber: 709,\n                                                columnNumber: 148\n                                            }, undefined),\n                                            \" Fetching address...\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/user/studio/src/app/page.tsx\",\n                                        lineNumber: 709,\n                                        columnNumber: 79\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/user/studio/src/app/page.tsx\",\n                                lineNumber: 679,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/user/studio/src/app/page.tsx\",\n                        lineNumber: 668,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.Card, {\n                        className: \"md:col-span-2 shadow-xl bg-card/80 backdrop-blur-sm dark:bg-card/70\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardContent, {\n                            className: \"p-4 space-y-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center justify-center text-center text-sm min-h-[40px] p-2 rounded-md bg-muted/50 dark:bg-muted/30\",\n                                    children: [\n                                        isProcessing ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Camera_CheckCircle_Loader2_LogOut_MapPin_RefreshCw_User_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                            className: \"h-5 w-5 animate-spin mr-2 text-primary\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                                            lineNumber: 716,\n                                            columnNumber: 37\n                                        }, undefined) : statusMessage.toLowerCase().includes(\"error:\") || modelsLoadedError || locationError ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Camera_CheckCircle_Loader2_LogOut_MapPin_RefreshCw_User_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                            className: \"h-5 w-5 mr-2 text-destructive\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                                            lineNumber: 717,\n                                            columnNumber: 109\n                                        }, undefined) : statusMessage.toLowerCase().includes(\"success\") || statusMessage.toLowerCase().includes(\"ready\") || modelsLoaded && statusMessage.toLowerCase().includes(\"models loaded\") && isStreamPlaying ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Camera_CheckCircle_Loader2_LogOut_MapPin_RefreshCw_User_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                                            className: \"h-5 w-5 mr-2 text-green-500\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                                            lineNumber: 718,\n                                            columnNumber: 216\n                                        }, undefined) : (isLoading || modelsLoading || isFetchingLocation || hasCameraPermission === true && !isStreamPlaying) && !statusMessage.toLowerCase().includes(\"error\") ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Camera_CheckCircle_Loader2_LogOut_MapPin_RefreshCw_User_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                            className: \"h-5 w-5 animate-spin mr-2 text-primary\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                                            lineNumber: 719,\n                                            columnNumber: 180\n                                        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Camera_CheckCircle_Loader2_LogOut_MapPin_RefreshCw_User_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                            className: \"h-5 w-5 mr-2 text-muted-foreground\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                                            lineNumber: 720,\n                                            columnNumber: 22\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"\".concat(statusMessage.toLowerCase().includes(\"error:\") || modelsLoadedError || locationError ? \"text-destructive\" : statusMessage.toLowerCase().includes(\"success\") || statusMessage.toLowerCase().includes(\"ready\") || modelsLoaded && statusMessage.toLowerCase().includes(\"models loaded\") && isStreamPlaying ? \"text-green-600 dark:text-green-400\" : \"text-muted-foreground\", \" whitespace-pre-line text-xs\"),\n                                            children: statusMessage\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                                            lineNumber: 722,\n                                            columnNumber: 21\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                                    lineNumber: 715,\n                                    columnNumber: 18\n                                }, undefined),\n                                (isProcessing || (isLoading || modelsLoading || isFetchingLocation) && progress < 100 && !statusMessage.toLowerCase().includes(\"error\") && !modelsLoadedError && !locationError) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_progress__WEBPACK_IMPORTED_MODULE_6__.Progress, {\n                                    value: progress,\n                                    className: \"w-full h-2\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                                    lineNumber: 726,\n                                    columnNumber: 201\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                    onClick: handleManualCapture,\n                                    className: \"w-full py-3 text-base font-semibold\",\n                                    disabled: isProcessing || captureCooldownActive || !modelsLoaded || !!modelsLoadedError || !isStreamPlaying || !!locationError || !location || !address || isFetchingLocation,\n                                    \"aria-label\": \"Mark Attendance Manually\",\n                                    children: [\n                                        isProcessing ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Camera_CheckCircle_Loader2_LogOut_MapPin_RefreshCw_User_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                            className: \"mr-2 h-5 w-5 animate-spin\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                                            lineNumber: 744,\n                                            columnNumber: 35\n                                        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_Camera_CheckCircle_Loader2_LogOut_MapPin_RefreshCw_User_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                            className: \"mr-2 h-5 w-5\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                                            lineNumber: 744,\n                                            columnNumber: 87\n                                        }, undefined),\n                                        isProcessing ? \"Processing...\" : captureCooldownActive ? \"Cooldown...\" : \"Mark Manually\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                                    lineNumber: 728,\n                                    columnNumber: 18\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-xs text-center text-muted-foreground/80\",\n                                    children: captureCooldownActive ? \"Please wait before trying again.\" : modelsLoaded && !modelsLoadedError && isStreamPlaying && location && address && !isFetchingLocation && !isProcessing ? \"Auto-capture active if face is clear and smiling.\" : modelsLoadedError ? \"Face models failed. Auto-capture disabled. Follow instructions in Camera Feed.\" : !isStreamPlaying ? \"Camera not streaming. Ensure it's not covered and permissions are granted.\" : locationError || !location || !address ? \"Location or address data missing. Auto-capture disabled. Try refreshing location.\" : \"Ensure camera, location & models are ready for attendance.\"\n                                }, void 0, false, {\n                                    fileName: \"/home/user/studio/src/app/page.tsx\",\n                                    lineNumber: 747,\n                                    columnNumber: 17\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/user/studio/src/app/page.tsx\",\n                            lineNumber: 714,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/home/user/studio/src/app/page.tsx\",\n                        lineNumber: 713,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/studio/src/app/page.tsx\",\n                lineNumber: 601,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/studio/src/app/page.tsx\",\n        lineNumber: 573,\n        columnNumber: 5\n    }, undefined);\n};\n_s(AttendancePage, \"Zlrd6eKP2dHJbT2Iu+PKLYA9Ung=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter,\n        _hooks_use_toast__WEBPACK_IMPORTED_MODULE_8__.useToast\n    ];\n});\n_c = AttendancePage;\n/* harmony default export */ __webpack_exports__[\"default\"] = (AttendancePage);\nvar _c;\n$RefreshReg$(_c, \"AttendancePage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFdBQVcsR0FBR2tCLFFBQVEsQ0FBQyxZQUFZLENBQUM3QyxxQkFBcUIsQ0FBQ1UsYUFBYyxtQkFBTSw4REFBQzFELDZEQUFRQTtvQ0FBQ3NMLE9BQU9oSjtvQ0FBVThJLFdBQVU7Ozs7Ozs4Q0FFNU4sOERBQUMxTCx5REFBTUE7b0NBQ0o0TSxTQUFTdEI7b0NBQ1RJLFdBQVU7b0NBQ1Y2QixVQUNJL0ssZ0JBQ0FrQix5QkFDQSxDQUFDUixnQkFDRCxDQUFDLENBQUNJLHFCQUNGLENBQUNOLG1CQUNELENBQUMsQ0FBQ2dCLGlCQUNGLENBQUNKLFlBQ0QsQ0FBQ0UsV0FDREk7b0NBRUp3SixjQUFXOzt3Q0FFWmxMLDZCQUFlLDhEQUFDbEIsMEpBQU9BOzRDQUFDb0ssV0FBVTs7Ozs7c0VBQWlDLDhEQUFDeEssMEpBQU1BOzRDQUFDd0ssV0FBVTs7Ozs7O3dDQUNyRmxKLGVBQWUsa0JBQWtCa0Isd0JBQXdCLGdCQUFnQjs7Ozs7Ozs4Q0FFNUUsOERBQUNpSTtvQ0FBRUQsV0FBVTs4Q0FDUmhJLHdCQUF3QixxQ0FDeEIsZ0JBQWlCLENBQUNKLHFCQUFxQk4sbUJBQW1CWSxZQUFZRSxXQUFXLENBQUNJLHNCQUFzQixDQUFDMUIsZUFBZ0Isc0RBQ3pIYyxvQkFBb0IsbUZBQ3BCLENBQUNOLGtCQUFrQiwrRUFDbkIsaUJBQWtCLENBQUNZLFlBQVksQ0FBQ0UsVUFBVyxzRkFDM0M7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBT3JCO0dBbnVCTWpDOztRQUNXL0Isc0RBQVNBO1FBQ05ZLHNEQUFRQTs7O0tBRnRCbUI7QUFxdUJOLCtEQUFlQSxjQUFjQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9hcHAvcGFnZS50c3g/ZjY4YSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBAdHMtbm9jaGVja1xuJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgdHlwZSB7IE5leHRQYWdlIH0gZnJvbSAnbmV4dCc7XG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZUNhbGxiYWNrLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJztcbmltcG9ydCAqIGFzIGZhY2VhcGkgZnJvbSAnZmFjZS1hcGkuanMnO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbic7XG5pbXBvcnQgeyBDYXJkLCBDYXJkQ29udGVudCwgQ2FyZERlc2NyaXB0aW9uLCBDYXJkSGVhZGVyLCBDYXJkVGl0bGUgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvY2FyZCc7XG5pbXBvcnQgeyBQcm9ncmVzcyB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9wcm9ncmVzcyc7XG5pbXBvcnQgeyBBbGVydCwgQWxlcnREZXNjcmlwdGlvbiwgQWxlcnRUaXRsZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9hbGVydCc7XG5pbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gJ0AvaG9va3MvdXNlLXRvYXN0JztcbmltcG9ydCB7IGdldEN1cnJlbnRQb3NpdGlvbiwgZ2V0QWRkcmVzc0Zyb21Db29yZGluYXRlcywgR2VvbG9jYXRpb25FcnJvciB9IGZyb20gJ0Avc2VydmljZXMvZ2VvLWxvY2F0aW9uJztcbmltcG9ydCB7IHNhdmVBdHRlbmRhbmNlLCBnZXRFbXBsb3llZUJ5SWQsIEVtcGxveWVlIH0gZnJvbSAnQC9zZXJ2aWNlcy9hdHRlbmRhbmNlJztcbmltcG9ydCB7IGNoZWNrTG9naW5TdGF0dXMsIGxvZ291dFVzZXIgfSBmcm9tICdAL3NlcnZpY2VzL2F1dGgnO1xuaW1wb3J0IHsgQ2FtZXJhLCBNYXBQaW4sIFVzZXIsIExvZ091dCwgTG9hZGVyMiwgQWxlcnRUcmlhbmdsZSwgQ2hlY2tDaXJjbGUsIFJlZnJlc2hDdywgWENpcmNsZSB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XG5pbXBvcnQgSW1hZ2UgZnJvbSAnbmV4dC9pbWFnZSc7XG5pbXBvcnQgeyBTY3JvbGxBcmVhIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL3Njcm9sbC1hcmVhJztcblxuXG5jb25zdCBBdHRlbmRhbmNlUGFnZTogTmV4dFBhZ2UgPSAoKSA9PiB7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuICBjb25zdCB7IHRvYXN0IH0gPSB1c2VUb2FzdCgpO1xuXG4gIGNvbnN0IFtsb2dnZWRJblVzZXJQaG9uZSwgc2V0TG9nZ2VkSW5Vc2VyUGhvbmVdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtlbXBsb3llZURldGFpbHMsIHNldEVtcGxveWVlRGV0YWlsc10gPSB1c2VTdGF0ZTxFbXBsb3llZSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbYXV0aENoZWNrQ29tcGxldGVkLCBzZXRBdXRoQ2hlY2tDb21wbGV0ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2lzUHJvY2Vzc2luZywgc2V0SXNQcm9jZXNzaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3N0YXR1c01lc3NhZ2UsIHNldFN0YXR1c01lc3NhZ2VdID0gdXNlU3RhdGUoJ0luaXRpYWxpemluZy4uLicpO1xuICBjb25zdCBbcHJvZ3Jlc3MsIHNldFByb2dyZXNzXSA9IHVzZVN0YXRlKDApO1xuXG4gIGNvbnN0IFtoYXNDYW1lcmFQZXJtaXNzaW9uLCBzZXRIYXNDYW1lcmFQZXJtaXNzaW9uXSA9IHVzZVN0YXRlPGJvb2xlYW4gfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2lzU3RyZWFtUGxheWluZywgc2V0SXNTdHJlYW1QbGF5aW5nXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgY29uc3QgW21vZGVsc0xvYWRlZCwgc2V0TW9kZWxzTG9hZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW21vZGVsc0xvYWRpbmcsIHNldE1vZGVsc0xvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbW9kZWxzTG9hZGVkRXJyb3IsIHNldE1vZGVsc0xvYWRlZEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbaXNGYWNlRGV0ZWN0ZWQsIHNldElzRmFjZURldGVjdGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NhcHR1cmVDb29sZG93bkFjdGl2ZSwgc2V0Q2FwdHVyZUNvb2xkb3duQWN0aXZlXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICBjb25zdCBbbG9jYXRpb24sIHNldExvY2F0aW9uXSA9IHVzZVN0YXRlPHsgbGF0aXR1ZGU6IG51bWJlcjsgbG9uZ2l0dWRlOiBudW1iZXIgfSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbYWRkcmVzcywgc2V0QWRkcmVzc10gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2xvY2F0aW9uRXJyb3IsIHNldExvY2F0aW9uRXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtpc0ZldGNoaW5nTG9jYXRpb24sIHNldElzRmV0Y2hpbmdMb2NhdGlvbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cblxuICBjb25zdCB2aWRlb1JlZiA9IHVzZVJlZjxIVE1MVmlkZW9FbGVtZW50PihudWxsKTtcbiAgY29uc3QgY2FudmFzUmVmID0gdXNlUmVmPEhUTUxDYW52YXNFbGVtZW50PihudWxsKTtcbiAgY29uc3QgZmFjZURldGVjdGlvbkludGVydmFsUmVmID0gdXNlUmVmPE5vZGVKUy5UaW1lb3V0IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IGF1dG9DYXB0dXJlVGltZW91dFJlZiA9IHVzZVJlZjxOb2RlSlMuVGltZW91dCB8IG51bGw+KG51bGwpO1xuXG4gIGNvbnN0IFtpc0NsaWVudCwgc2V0SXNDbGllbnRdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0SXNDbGllbnQodHJ1ZSk7XG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghaXNDbGllbnQpIHJldHVybjtcblxuICAgIHNldFN0YXR1c01lc3NhZ2UoXCJWZXJpZnlpbmcgdXNlci4uLlwiKTtcbiAgICBzZXRQcm9ncmVzcygxMCk7XG4gICAgY29uc3QgY3VycmVudExvZ2dlZEluVXNlciA9IGNoZWNrTG9naW5TdGF0dXMoKTtcbiAgICBjb25zb2xlLmxvZyhcIkF0dGVuZGFuY2VQYWdlOiBBdXRoIENoZWNrLiBMb2dnZWRJblVzZXIgZnJvbSBjaGVja0xvZ2luU3RhdHVzKCk6XCIsIGN1cnJlbnRMb2dnZWRJblVzZXIpO1xuXG4gICAgaWYgKCFjdXJyZW50TG9nZ2VkSW5Vc2VyKSB7XG4gICAgICB0b2FzdCh7IHRpdGxlOiAnQXV0aGVudGljYXRpb24gUmVxdWlyZWQnLCBkZXNjcmlwdGlvbjogJ1lvdSBuZWVkIHRvIGJlIGxvZ2dlZCBpbi4gUmVkaXJlY3RpbmcuLi4nLCB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnIH0pO1xuICAgICAgbG9nb3V0VXNlcigpO1xuICAgICAgcm91dGVyLnJlcGxhY2UoJy9sb2dpbicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBpZiAodHlwZW9mIGN1cnJlbnRMb2dnZWRJblVzZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmIChjdXJyZW50TG9nZ2VkSW5Vc2VyLnRvTG93ZXJDYXNlKCkgPT09ICdhZG1pbicpIHtcbiAgICAgICAgICAgIHRvYXN0KHsgdGl0bGU6ICdBY2Nlc3MgRGVuaWVkJywgZGVzY3JpcHRpb246ICdBZG1pbmlzdHJhdG9ycyBjYW5ub3QgbWFyayBhdHRlbmRhbmNlLiBSZWRpcmVjdGluZy4uLicsIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScgfSk7XG4gICAgICAgICAgICBsb2dvdXRVc2VyKCk7XG4gICAgICAgICAgICByb3V0ZXIucmVwbGFjZSgnL2xvZ2luJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2V0TG9nZ2VkSW5Vc2VyUGhvbmUoY3VycmVudExvZ2dlZEluVXNlcik7XG4gICAgICAgIHNldEF1dGhDaGVja0NvbXBsZXRlZCh0cnVlKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJBdHRlbmRhbmNlUGFnZTogVXNlciBhdXRoZW50aWNhdGVkIGFzIGVtcGxveWVlOlwiLCBjdXJyZW50TG9nZ2VkSW5Vc2VyKTtcbiAgICAgICAgc2V0U3RhdHVzTWVzc2FnZShcIlVzZXIgdmVyaWZpZWQuXCIpO1xuICAgICAgICBzZXRQcm9ncmVzcygyMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVGhpcyBjYXNlIHNob3VsZCBpZGVhbGx5IG5vdCBoYXBwZW4gaWYgY2hlY2tMb2dpblN0YXR1cyBpcyByb2J1c3RcbiAgICAgICAgdG9hc3QoeyB0aXRsZTogJ0F1dGhlbnRpY2F0aW9uIEVycm9yJywgZGVzY3JpcHRpb246ICdJbnZhbGlkIHVzZXIgc2Vzc2lvbiB0eXBlLiBSZWRpcmVjdGluZy4uLicsIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScgfSk7XG4gICAgICAgIGxvZ291dFVzZXIoKTtcbiAgICAgICAgcm91dGVyLnJlcGxhY2UoJy9sb2dpbicpO1xuICAgIH1cblxuICB9LCBbaXNDbGllbnQsIHJvdXRlciwgdG9hc3RdKTtcblxuXG4gIGNvbnN0IGZldGNoRW1wbG95ZWVEZXRhaWxzID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIGlmICghbG9nZ2VkSW5Vc2VyUGhvbmUpIHJldHVybjtcbiAgICBzZXRTdGF0dXNNZXNzYWdlKFwiRmV0Y2hpbmcgZW1wbG95ZWUgZGV0YWlscy4uLlwiKTtcbiAgICBzZXRQcm9ncmVzcygzMCk7XG4gICAgY29uc29sZS5sb2coXCJBdHRlbmRhbmNlUGFnZTogRmV0Y2hpbmcgZW1wbG95ZWUgZGV0YWlscyBmb3IgcGhvbmU6XCIsIGxvZ2dlZEluVXNlclBob25lKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZGV0YWlscyA9IGF3YWl0IGdldEVtcGxveWVlQnlJZChsb2dnZWRJblVzZXJQaG9uZSk7XG4gICAgICBpZiAoZGV0YWlscykge1xuICAgICAgICBzZXRFbXBsb3llZURldGFpbHMoZGV0YWlscyk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQXR0ZW5kYW5jZVBhZ2U6IEVtcGxveWVlIGRldGFpbHMgZmV0Y2hlZDpcIiwgZGV0YWlscyk7XG4gICAgICAgIHNldFN0YXR1c01lc3NhZ2UoXCJFbXBsb3llZSBkZXRhaWxzIGxvYWRlZC5cIik7XG4gICAgICAgIHNldFByb2dyZXNzKDQwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRvYXN0KHsgdGl0bGU6ICdFcnJvcicsIGRlc2NyaXB0aW9uOiAnQ291bGQgbm90IGZpbmQgZW1wbG95ZWUgZGV0YWlscy4gUGxlYXNlIGNvbnRhY3Qgc3VwcG9ydC4nLCB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnIH0pO1xuICAgICAgICBzZXRTdGF0dXNNZXNzYWdlKFwiRXJyb3I6IEVtcGxveWVlIGRldGFpbHMgbm90IGZvdW5kLlwiKTtcbiAgICAgICAgbG9nb3V0VXNlcigpO1xuICAgICAgICByb3V0ZXIucmVwbGFjZSgnL2xvZ2luJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJBdHRlbmRhbmNlUGFnZTogRXJyb3IgZmV0Y2hpbmcgZW1wbG95ZWUgZGV0YWlsczpcIiwgZXJyb3IpO1xuICAgICAgdG9hc3QoeyB0aXRsZTogJ0Vycm9yJywgZGVzY3JpcHRpb246ICdGYWlsZWQgdG8gZmV0Y2ggZW1wbG95ZWUgZGV0YWlscy4nLCB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnIH0pO1xuICAgICAgc2V0U3RhdHVzTWVzc2FnZShcIkVycm9yOiBDb3VsZCBub3QgZmV0Y2ggZW1wbG95ZWUgZGV0YWlscy5cIik7XG4gICAgICBsb2dvdXRVc2VyKCk7XG4gICAgICByb3V0ZXIucmVwbGFjZSgnL2xvZ2luJyk7XG4gICAgfVxuICB9LCBbbG9nZ2VkSW5Vc2VyUGhvbmUsIHJvdXRlciwgdG9hc3RdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc0NsaWVudCAmJiBhdXRoQ2hlY2tDb21wbGV0ZWQgJiYgbG9nZ2VkSW5Vc2VyUGhvbmUgJiYgIWVtcGxveWVlRGV0YWlscykge1xuICAgICAgZmV0Y2hFbXBsb3llZURldGFpbHMoKTtcbiAgICB9XG4gIH0sIFtpc0NsaWVudCwgYXV0aENoZWNrQ29tcGxldGVkLCBsb2dnZWRJblVzZXJQaG9uZSwgZW1wbG95ZWVEZXRhaWxzLCBmZXRjaEVtcGxveWVlRGV0YWlsc10pO1xuXG5cbiAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgbG9hZE1vZGVscyA9IGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IE1PREVMX1VSTCA9ICcvbW9kZWxzJztcbiAgICAgIHNldFN0YXR1c01lc3NhZ2UoJ0xvYWRpbmcgZmFjZSByZWNvZ25pdGlvbiBtb2RlbHMuLi4nKTtcbiAgICAgIHNldFByb2dyZXNzKDUwKTtcbiAgICAgIHNldE1vZGVsc0xvYWRpbmcodHJ1ZSk7XG4gICAgICBzZXRNb2RlbHNMb2FkZWRFcnJvcihudWxsKTtcbiAgICAgIGNvbnNvbGUubG9nKCdBdHRlbmRhbmNlUGFnZTogQXR0ZW1wdGluZyB0byBsb2FkIEZhY2UgQVBJIG1vZGVscyBmcm9tOicsIE1PREVMX1VSTCk7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgZmFjZWFwaS5uZXRzLnRpbnlGYWNlRGV0ZWN0b3IubG9hZEZyb21VcmkoTU9ERUxfVVJMKSxcbiAgICAgICAgICBmYWNlYXBpLm5ldHMuZmFjZUxhbmRtYXJrNjhOZXQubG9hZEZyb21VcmkoTU9ERUxfVVJMKSxcbiAgICAgICAgICBmYWNlYXBpLm5ldHMuZmFjZVJlY29nbml0aW9uTmV0LmxvYWRGcm9tVXJpKE1PREVMX1VSTCksXG4gICAgICAgICAgZmFjZWFwaS5uZXRzLmZhY2VFeHByZXNzaW9uTmV0LmxvYWRGcm9tVXJpKE1PREVMX1VSTCksXG4gICAgICAgIF0pO1xuICAgICAgICBzZXRNb2RlbHNMb2FkZWQodHJ1ZSk7XG4gICAgICAgIHNldFN0YXR1c01lc3NhZ2UoJ0ZhY2UgcmVjb2duaXRpb24gbW9kZWxzIGxvYWRlZC4nKTtcbiAgICAgICAgY29uc29sZS5sb2coJ0F0dGVuZGFuY2VQYWdlOiBGYWNlIHJlY29nbml0aW9uIG1vZGVscyBsb2FkZWQgc3VjY2Vzc2Z1bGx5LicpO1xuICAgICAgICBzZXRQcm9ncmVzcyg2MCk7XG4gICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0F0dGVuZGFuY2VQYWdlOiBFcnJvciBsb2FkaW5nIGZhY2UgcmVjb2duaXRpb24gbW9kZWxzOicsIGVycm9yKTtcbiAgICAgICAgbGV0IGRldGFpbGVkRXJyb3JNZXNzYWdlID0gJ0NSSVRJQ0FMOiBGYWNlIG1vZGVscyBmYWlsZWQgdG8gbG9hZC5cXG5cXG4nO1xuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2VTdHJpbmcgPSBTdHJpbmcoZXJyb3IubWVzc2FnZSB8fCAnVW5rbm93biBlcnJvci4nKTtcblxuICAgICAgICBpZiAoZXJyb3JNZXNzYWdlU3RyaW5nLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2ZhaWxlZCB0byBmZXRjaCcpIHx8IGVycm9yTWVzc2FnZVN0cmluZy5pbmNsdWRlcygnNDA0JykpIHtcbiAgICAgICAgICAgIGNvbnN0IHVybE1hdGNoID0gZXJyb3JNZXNzYWdlU3RyaW5nLm1hdGNoKC9mcm9tIHVybDogKGh0dHBzPzpcXC9cXC9bXlxcc10rKS8pO1xuICAgICAgICAgICAgY29uc3QgZmFpbGVkVXJsUGFydCA9IHVybE1hdGNoICYmIHVybE1hdGNoWzFdID8gYChlLmcuLCBmYWlsZWQgdG8gZmV0Y2g6ICR7dXJsTWF0Y2hbMV19KWAgOiAnJztcbiAgICAgICAgICAgIGRldGFpbGVkRXJyb3JNZXNzYWdlICs9IGBSRUFTT046IFNlcnZlciByZXBvcnRlZCBhbiBlcnJvciAoZS5nLiwgXCI0MDQgTm90IEZvdW5kXCIpIGZvciBtb2RlbCBmaWxlcyAke2ZhaWxlZFVybFBhcnR9LiBUaGlzIG1lYW5zIG1vZGVsIGZpbGVzIGFyZSBtaXNzaW5nIE9SIFRIRSBTRVJWRVIgTkVFRFMgQSBSRVNUQVJULlxcblxcbmA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZXRhaWxlZEVycm9yTWVzc2FnZSArPSBgREVUQUlMUzogJHtlcnJvck1lc3NhZ2VTdHJpbmd9XFxuXFxuYDtcbiAgICAgICAgfVxuICAgICAgICBkZXRhaWxlZEVycm9yTWVzc2FnZSArPSBcIkFDVElPTiBSRVFVSVJFRDpcXG5cIjtcbiAgICAgICAgZGV0YWlsZWRFcnJvck1lc3NhZ2UgKz0gXCIxLiBFbnN1cmUgQUxMIGZhY2UtYXBpLmpzIG1vZGVsIGZpbGVzIGFyZSBpbiBgcHVibGljL21vZGVscy9gLlxcblwiO1xuICAgICAgICBkZXRhaWxlZEVycm9yTWVzc2FnZSArPSBcIjIuIEZpbGVzOiB0aW55X2ZhY2VfZGV0ZWN0b3JfbW9kZWwtd2VpZ2h0c19tYW5pZmVzdC5qc29uICgrc2hhcmQxKSwgZmFjZV9sYW5kbWFya182OF9tb2RlbC13ZWlnaHRzX21hbmlmZXN0Lmpzb24gKCtzaGFyZDEpLCBmYWNlX3JlY29nbml0aW9uX21vZGVsLXdlaWdodHNfbWFuaWZlc3QuanNvbiAoK3NoYXJkcyksIGZhY2VfZXhwcmVzc2lvbl9tb2RlbC13ZWlnaHRzX21hbmlmZXN0Lmpzb24gKCtzaGFyZDEpIGFyZSBlc3NlbnRpYWwuXFxuXCI7XG4gICAgICAgIGRldGFpbGVkRXJyb3JNZXNzYWdlICs9IFwiMy4gQWZ0ZXIgcGxhY2luZy92ZXJpZnlpbmcgZmlsZXMsIFJFU1RBUlQgeW91ciBkZXZlbG9wbWVudCBzZXJ2ZXIuIElmIGRlcGxveWVkLCBlbnN1cmUgZGVwbG95bWVudCBpbmNsdWRlcyB0aGVzZSBmaWxlcyBhbmQgc2VydmVyIGluc3RhbmNlIGlzIHVwZGF0ZWQvcmVzdGFydGVkLlxcblwiO1xuICAgICAgICBkZXRhaWxlZEVycm9yTWVzc2FnZSArPSBcIjQuIFZlcmlmeSBzZXJ2ZXIgc2VydmVzIHN0YXRpYyBmaWxlcyBmcm9tICdwdWJsaWMnIGJ5IGFjY2Vzc2luZyBhIG1vZGVsIG1hbmlmZXN0IGluIGJyb3dzZXIgKGUuZy4sIHlvdXItYXBwLXVybC5jb20vbW9kZWxzL3RpbnlfZmFjZV9kZXRlY3Rvcl9tb2RlbC13ZWlnaHRzX21hbmlmZXN0Lmpzb24pLlxcblwiO1xuXG4gICAgICAgIHNldE1vZGVsc0xvYWRlZEVycm9yKGRldGFpbGVkRXJyb3JNZXNzYWdlKTtcbiAgICAgICAgc2V0U3RhdHVzTWVzc2FnZShgRXJyb3I6IEZhY2UgbW9kZWxzIGZhaWxlZC4gU2VlIGRldGFpbHMgaW4gY2FtZXJhIGZlZWQgYXJlYS5gKTtcbiAgICAgICAgdG9hc3Qoe1xuICAgICAgICAgIHRpdGxlOiAnQ1JJVElDQUw6IEZhY2UgTW9kZWxzIE1pc3NpbmcvRXJyb3IhJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogXCJGYWNlIG1vZGVscyBjb3VsZG4ndCBsb2FkLiBDYW1lcmEgZmVlZCBhcmVhIHNob3dzIGluc3RydWN0aW9ucy4gRW5zdXJlIG1vZGVscyBhcmUgaW4gJ3B1YmxpYy9tb2RlbHMnICYgc2VydmVyIHJlc3RhcnRlZCBpZiBmaWxlcyB3ZXJlIGFkZGVkLlwiLFxuICAgICAgICAgIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsXG4gICAgICAgICAgZHVyYXRpb246IDkwMDAwLFxuICAgICAgICB9KTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldE1vZGVsc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoaXNDbGllbnQgJiYgYXV0aENoZWNrQ29tcGxldGVkICYmIGVtcGxveWVlRGV0YWlscyAmJiAhbW9kZWxzTG9hZGVkICYmICFtb2RlbHNMb2FkaW5nICYmICFtb2RlbHNMb2FkZWRFcnJvcikge1xuICAgICAgbG9hZE1vZGVscygpO1xuICAgIH1cbiAgfSwgW2lzQ2xpZW50LCBhdXRoQ2hlY2tDb21wbGV0ZWQsIGVtcGxveWVlRGV0YWlscywgbW9kZWxzTG9hZGVkLCBtb2RlbHNMb2FkaW5nLCBtb2RlbHNMb2FkZWRFcnJvciwgdG9hc3RdKTtcblxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZ2V0Q2FtZXJhUGVybWlzc2lvbiA9IGFzeW5jICgpID0+IHtcbiAgICAgIHNldFN0YXR1c01lc3NhZ2UoXCJSZXF1ZXN0aW5nIGNhbWVyYSBhY2Nlc3MuLi5cIik7XG4gICAgICBzZXRQcm9ncmVzcyg3MCk7XG4gICAgICBjb25zb2xlLmxvZyhcIkF0dGVuZGFuY2VQYWdlOiBBdHRlbXB0aW5nIHRvIGdldCBjYW1lcmEgcGVybWlzc2lvbi5cIik7XG5cbiAgICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yID09PSAndW5kZWZpbmVkJyB8fCAhbmF2aWdhdG9yLm1lZGlhRGV2aWNlcyB8fCB0eXBlb2YgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignQXR0ZW5kYW5jZVBhZ2U6IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhIGlzIG5vdCBhdmFpbGFibGUuJyk7XG4gICAgICAgIHNldEhhc0NhbWVyYVBlcm1pc3Npb24oZmFsc2UpO1xuICAgICAgICBzZXRJc1N0cmVhbVBsYXlpbmcoZmFsc2UpO1xuICAgICAgICBzZXRTdGF0dXNNZXNzYWdlKFwiRXJyb3I6IENhbWVyYSBBUEkgbm90IGF2YWlsYWJsZSBvciBub3Qgc3VwcG9ydGVkLlwiKTtcbiAgICAgICAgdG9hc3QoeyB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLCB0aXRsZTogJ0NhbWVyYSBOb3QgU3VwcG9ydGVkJywgZGVzY3JpcHRpb246ICdCcm93c2VyIGRvZXMgbm90IHN1cHBvcnQgY2FtZXJhIGZlYXR1cmVzIG9yIGFjY2VzcyBpcyBkaXNhYmxlZC4nIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHsgdmlkZW86IHsgZmFjaW5nTW9kZTogJ3VzZXInIH0gfSk7XG5cbiAgICAgICAgaWYgKHZpZGVvUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICB2aWRlb1JlZi5jdXJyZW50LnNyY09iamVjdCA9IHN0cmVhbTtcbiAgICAgICAgICBzZXRIYXNDYW1lcmFQZXJtaXNzaW9uKHRydWUpO1xuICAgICAgICAgIHNldFN0YXR1c01lc3NhZ2UoXCJDYW1lcmEgY29ubmVjdGVkLiBJbml0aWFsaXppbmcgc3RyZWFtIHBsYXliYWNrLi4uXCIpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiQXR0ZW5kYW5jZVBhZ2U6IENhbWVyYSBwZXJtaXNzaW9uIG9idGFpbmVkLiBTdHJlYW0gYXNzaWduZWQuIFdhaXRpbmcgZm9yIG1lZGlhIHRvIGJlIHJlYWR5LlwiKTtcblxuICAgICAgICAgIHZpZGVvUmVmLmN1cnJlbnQub25jYW5wbGF5ID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJBdHRlbmRhbmNlUGFnZTogb25jYW5wbGF5IGV2ZW50IGZpcmVkLiBWaWRlbyByZWFkeVN0YXRlOlwiLCB2aWRlb1JlZi5jdXJyZW50Py5yZWFkeVN0YXRlKTtcbiAgICAgICAgICAgIGlmICh2aWRlb1JlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgIHZpZGVvUmVmLmN1cnJlbnQucGxheSgpXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJBdHRlbmRhbmNlUGFnZTogVmlkZW8gcGxheSgpIHByb21pc2UgcmVzb2x2ZWQuXCIpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKHBsYXlFcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQXR0ZW5kYW5jZVBhZ2U6IEVycm9yIHBsYXlpbmcgdmlkZW8gc3RyZWFtIHZpYSBvbmNhbnBsYXk6XCIsIHBsYXlFcnJvcik7XG4gICAgICAgICAgICAgICAgICBzZXRJc1N0cmVhbVBsYXlpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgc2V0U3RhdHVzTWVzc2FnZShgRXJyb3I6IENhbWVyYSBwbGF5YmFjayBmYWlsZWQ6ICR7cGxheUVycm9yLm1lc3NhZ2V9LiBUcnkgaW50ZXJhY3Rpbmcgd2l0aCBwYWdlLmApO1xuICAgICAgICAgICAgICAgICAgdG9hc3Qoe1xuICAgICAgICAgICAgICAgICAgICB2YXJpYW50OiAnd2FybmluZycsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnQ2FtZXJhIFBsYXliYWNrIElzc3VlJyxcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGBQbGF5YmFjayBmYWlsZWQ6ICR7cGxheUVycm9yLm1lc3NhZ2V9LiBCcm93c2VyIG1pZ2h0IHJlcXVpcmUgaW50ZXJhY3Rpb24gKGNsaWNrL3RhcCBwYWdlKSB0byBzdGFydCB2aWRlby5gLFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTUwMDBcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICB2aWRlb1JlZi5jdXJyZW50Lm9ucGxheWluZyA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQXR0ZW5kYW5jZVBhZ2U6IFZpZGVvICdwbGF5aW5nJyBldmVudCBmaXJlZC5cIik7XG4gICAgICAgICAgICBzZXRJc1N0cmVhbVBsYXlpbmcodHJ1ZSk7XG4gICAgICAgICAgICBzZXRTdGF0dXNNZXNzYWdlKFwiQ2FtZXJhIGFjdGl2ZSBhbmQgc3RyZWFtaW5nLlwiKTtcbiAgICAgICAgICAgIHNldFByb2dyZXNzKDgwKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmlkZW9SZWYuY3VycmVudC5vbnBhdXNlID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJBdHRlbmRhbmNlUGFnZTogVmlkZW8gJ3BhdXNlJyBldmVudCBmaXJlZC5cIik7XG4gICAgICAgICAgICBzZXRJc1N0cmVhbVBsYXlpbmcoZmFsc2UpO1xuICAgICAgICAgICAgaWYoIXN0YXR1c01lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcImVycm9yXCIpICYmICFpc1Byb2Nlc3NpbmcpIHtcbiAgICAgICAgICAgICAgc2V0U3RhdHVzTWVzc2FnZShcIkNhbWVyYSBwYXVzZWQuIEVuc3VyZSBpdCdzIG5vdCBjb3ZlcmVkLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIFxuICAgICAgICAgIHZpZGVvUmVmLmN1cnJlbnQub25lbmRlZCA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignQXR0ZW5kYW5jZVBhZ2U6IFZpZGVvIHRyYWNrIGVuZGVkIHVuZXhwZWN0ZWRseS4nKTtcbiAgICAgICAgICAgIHNldElzU3RyZWFtUGxheWluZyhmYWxzZSk7XG4gICAgICAgICAgICBzZXRIYXNDYW1lcmFQZXJtaXNzaW9uKGZhbHNlKTtcbiAgICAgICAgICAgIHNldFN0YXR1c01lc3NhZ2UoXCJFcnJvcjogQ2FtZXJhIHN0cmVhbSBlbmRlZC4gUmVmcmVzaCBvciBjaGVjayBjYW1lcmEuXCIpO1xuICAgICAgICAgICAgdG9hc3QoeyB0aXRsZTogXCJDYW1lcmEgU3RyZWFtIEVuZGVkXCIsIGRlc2NyaXB0aW9uOiBcIkNhbWVyYSBjb25uZWN0aW9uIGxvc3QuIFJlZnJlc2ggcGFnZS5cIiwgdmFyaWFudDogXCJkZXN0cnVjdGl2ZVwiIH0pO1xuICAgICAgICAgICAgaWYgKGZhY2VEZXRlY3Rpb25JbnRlcnZhbFJlZi5jdXJyZW50KSBjbGVhckludGVydmFsKGZhY2VEZXRlY3Rpb25JbnRlcnZhbFJlZi5jdXJyZW50KTtcbiAgICAgICAgICAgIGlmIChhdXRvQ2FwdHVyZVRpbWVvdXRSZWYuY3VycmVudCkgY2xlYXJUaW1lb3V0KGF1dG9DYXB0dXJlVGltZW91dFJlZi5jdXJyZW50KTtcbiAgICAgICAgICAgIHNldElzRmFjZURldGVjdGVkKGZhbHNlKTtcbiAgICAgICAgICAgICBpZiAodmlkZW9SZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICBjb25zdCBjdXJyZW50U3RyZWFtID0gdmlkZW9SZWYuY3VycmVudC5zcmNPYmplY3QgYXMgTWVkaWFTdHJlYW0gfCBudWxsO1xuICAgICAgICAgICAgICBpZiAoY3VycmVudFN0cmVhbSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRTdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCh0cmFjayA9PiB0cmFjay5zdG9wKCkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHZpZGVvUmVmLmN1cnJlbnQuc3JjT2JqZWN0ID0gbnVsbDtcbiAgICAgICAgICAgICAgdmlkZW9SZWYuY3VycmVudC5sb2FkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICBcbiAgICAgICAgICB2aWRlb1JlZi5jdXJyZW50Lm9uZXJyb3IgPSAoZSkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkF0dGVuZGFuY2VQYWdlOiBIVE1MVmlkZW9FbGVtZW50IGVycm9yIGV2ZW50OlwiLCBlLCB2aWRlb1JlZi5jdXJyZW50Py5lcnJvcik7XG4gICAgICAgICAgICBzZXRJc1N0cmVhbVBsYXlpbmcoZmFsc2UpO1xuICAgICAgICAgICAgc2V0SGFzQ2FtZXJhUGVybWlzc2lvbihmYWxzZSk7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1zZyA9IHZpZGVvUmVmLmN1cnJlbnQ/LmVycm9yPy5tZXNzYWdlIHx8ICdVbmtub3duIHZpZGVvIGVycm9yJztcbiAgICAgICAgICAgIHNldFN0YXR1c01lc3NhZ2UoYEVycm9yOiBWaWRlbyBlbGVtZW50IGVycm9yOiAke2Vycm9yTXNnfS4gVHJ5IHJlZnJlc2hpbmcuYCk7XG4gICAgICAgICAgICB0b2FzdCh7IHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsIHRpdGxlOiAnVmlkZW8gRWxlbWVudCBFcnJvcicsIGRlc2NyaXB0aW9uOiBgVmlkZW8gcGxheWVyIGVycm9yOiAke2Vycm9yTXNnfS4gQ2hlY2sgY2FtZXJhIG9yIHJlZnJlc2guYCB9KTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmlkZW9SZWYuY3VycmVudC5sb2FkKCk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkF0dGVuZGFuY2VQYWdlOiB2aWRlb1JlZi5jdXJyZW50IElTIE5VTEwgd2hlbiB0cnlpbmcgdG8gc2V0IHNyY09iamVjdC5cIik7XG4gICAgICAgICAgIHNldEhhc0NhbWVyYVBlcm1pc3Npb24oZmFsc2UpO1xuICAgICAgICAgICBzZXRJc1N0cmVhbVBsYXlpbmcoZmFsc2UpO1xuICAgICAgICAgICBzZXRTdGF0dXNNZXNzYWdlKFwiRXJyb3I6IENhbWVyYSBjb21wb25lbnQgbm90IHJlYWR5LlwiKTtcbiAgICAgICAgICAgdG9hc3QoeyB0aXRsZTogJ0ludGVybmFsIEVycm9yJywgZGVzY3JpcHRpb246ICdDYW1lcmEgY29tcG9uZW50IG5vdCByZWFkeS4nLCB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnfSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignQXR0ZW5kYW5jZVBhZ2U6IEVycm9yIGFjY2Vzc2luZyBjYW1lcmEgZHVyaW5nIGdldFVzZXJNZWRpYTonLCBlcnJvcik7XG4gICAgICAgIHNldEhhc0NhbWVyYVBlcm1pc3Npb24oZmFsc2UpO1xuICAgICAgICBzZXRJc1N0cmVhbVBsYXlpbmcoZmFsc2UpO1xuICAgICAgICBsZXQgdGl0bGUgPSAnQ2FtZXJhIEFjY2VzcyBJc3N1ZSc7XG4gICAgICAgIGxldCBkZXNjcmlwdGlvbiA9IGVycm9yLm1lc3NhZ2UgfHwgJ0FuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQuJztcbiAgICAgICAgaWYgKGVycm9yLm5hbWUgPT09ICdOb3RBbGxvd2VkRXJyb3InKSB7XG4gICAgICAgICAgICB0aXRsZSA9ICdQZXJtaXNzaW9uIERlbmllZCc7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbiA9ICdDYW1lcmEgYWNjZXNzIGRlbmllZC4gRW5hYmxlIHBlcm1pc3Npb25zIGluIGJyb3dzZXIgc2V0dGluZ3MuJztcbiAgICAgICAgfSBlbHNlIGlmIChlcnJvci5uYW1lID09PSAnTm90Rm91bmRFcnJvcicpIHtcbiAgICAgICAgICAgIHRpdGxlID0gJ0NhbWVyYSBOb3QgRm91bmQnO1xuICAgICAgICAgICAgZGVzY3JpcHRpb24gPSAnTm8gY2FtZXJhIGRldGVjdGVkLiBFbnN1cmUgaXQgaXMgY29ubmVjdGVkIGFuZCBlbmFibGVkLic7XG4gICAgICAgIH1cbiAgICAgICAgc2V0U3RhdHVzTWVzc2FnZShgRXJyb3I6ICR7ZGVzY3JpcHRpb259YCk7XG4gICAgICAgIHRvYXN0KHsgdmFyaWFudDogJ2Rlc3RydWN0aXZlJywgdGl0bGU6IHRpdGxlLCBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24gfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmIChpc0NsaWVudCAmJiBhdXRoQ2hlY2tDb21wbGV0ZWQgJiYgZW1wbG95ZWVEZXRhaWxzICYmIG1vZGVsc0xvYWRlZCAmJiAhbW9kZWxzTG9hZGVkRXJyb3IgJiYgaGFzQ2FtZXJhUGVybWlzc2lvbiA9PT0gbnVsbCkge1xuICAgICAgZ2V0Q2FtZXJhUGVybWlzc2lvbigpO1xuICAgIH1cbiAgfSwgW2lzQ2xpZW50LCBhdXRoQ2hlY2tDb21wbGV0ZWQsIGVtcGxveWVlRGV0YWlscywgbW9kZWxzTG9hZGVkLCBtb2RlbHNMb2FkZWRFcnJvciwgaGFzQ2FtZXJhUGVybWlzc2lvbiwgdG9hc3QsIHN0YXR1c01lc3NhZ2UsIGlzUHJvY2Vzc2luZ10pO1xuXG5cbiAgY29uc3QgZmV0Y2hMb2NhdGlvbkFuZEFkZHJlc3MgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFpc0NsaWVudCB8fCAhYXV0aENoZWNrQ29tcGxldGVkIHx8ICFlbXBsb3llZURldGFpbHMgfHwgaXNGZXRjaGluZ0xvY2F0aW9uKSB7XG4gICAgICBpZiAoaXNMb2FkaW5nICYmICFzdGF0dXNNZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJlcnJvclwiKSkgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7IC8vIEtlZXAgdGhpcyB0byBzaG93IG92ZXJhbGwgbG9hZGluZyBpZiBuZWVkZWQgaW5pdGlhbGx5XG4gICAgc2V0SXNGZXRjaGluZ0xvY2F0aW9uKHRydWUpO1xuICAgIHNldFN0YXR1c01lc3NhZ2UoXCJHZXR0aW5nIHlvdXIgY3VycmVudCBsb2NhdGlvbi4uLlwiKTtcbiAgICBzZXRMb2NhdGlvbkVycm9yKG51bGwpO1xuICAgIHNldEFkZHJlc3MobnVsbCk7XG4gICAgc2V0TG9jYXRpb24obnVsbCk7XG4gICAgc2V0UHJvZ3Jlc3MoODUpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvb3JkcyA9IGF3YWl0IGdldEN1cnJlbnRQb3NpdGlvbigpO1xuICAgICAgc2V0TG9jYXRpb24oeyBsYXRpdHVkZTogY29vcmRzLmxhdGl0dWRlLCBsb25naXR1ZGU6IGNvb3Jkcy5sb25naXR1ZGUgfSk7XG4gICAgICBzZXRTdGF0dXNNZXNzYWdlKFwiTG9jYXRpb24gYWNxdWlyZWQuIEZldGNoaW5nIGFkZHJlc3MuLi5cIik7XG4gICAgICBzZXRQcm9ncmVzcyg5MCk7XG5cbiAgICAgIGNvbnN0IGFkZHIgPSBhd2FpdCBnZXRBZGRyZXNzRnJvbUNvb3JkaW5hdGVzKGNvb3Jkcy5sYXRpdHVkZSwgY29vcmRzLmxvbmdpdHVkZSk7XG4gICAgICBzZXRBZGRyZXNzKGFkZHIpO1xuICAgICAgc2V0U3RhdHVzTWVzc2FnZShcIkxvY2F0aW9uIGFuZCBhZGRyZXNzIHJlYWR5LlwiKTtcbiAgICAgIHNldFByb2dyZXNzKDEwMCk7XG4gICAgICBzZXRMb2NhdGlvbkVycm9yKG51bGwpOyAvLyBDbGVhciBwcmV2aW91cyBlcnJvcnNcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiQXR0ZW5kYW5jZVBhZ2U6IEVycm9yIGluIGZldGNoTG9jYXRpb25BbmRBZGRyZXNzOlwiLCBlcnJvcik7XG4gICAgICBsZXQgdXNlckZyaWVuZGx5TWVzc2FnZSA9ICdDb3VsZCBub3QgZ2V0IGxvY2F0aW9uIG9yIGFkZHJlc3MuIFBsZWFzZSBlbnN1cmUgR1BTIGFuZCBuZXR3b3JrIGFyZSBhY3RpdmUsIGFuZCBicm93c2VyIHBlcm1pc3Npb25zIGFyZSBncmFudGVkIGZvciBsb2NhdGlvbiBzZXJ2aWNlcy4nO1xuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgR2VvbG9jYXRpb25FcnJvcikge1xuICAgICAgICAgIHVzZXJGcmllbmRseU1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlOyAvLyBVc2Ugc3BlY2lmaWMgbWVzc2FnZSBmcm9tIEdlb2xvY2F0aW9uRXJyb3JcbiAgICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZSkgeyAvLyBDYXRjaCBlcnJvcnMgZnJvbSBnZXRBZGRyZXNzRnJvbUNvb3JkaW5hdGVzXG4gICAgICAgICAgdXNlckZyaWVuZGx5TWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHNldExvY2F0aW9uRXJyb3IodXNlckZyaWVuZGx5TWVzc2FnZSk7XG4gICAgICBzZXRTdGF0dXNNZXNzYWdlKGBFcnJvcjogJHt1c2VyRnJpZW5kbHlNZXNzYWdlfWApOyAvLyBVcGRhdGUgbWFpbiBzdGF0dXNcbiAgICAgIHRvYXN0KHsgdGl0bGU6ICdMb2NhdGlvbiBFcnJvcicsIGRlc2NyaXB0aW9uOiB1c2VyRnJpZW5kbHlNZXNzYWdlLCB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLCBkdXJhdGlvbjogMTAwMDAgfSk7XG4gICAgICBzZXRQcm9ncmVzcygwKTsgLy8gUmVzZXQgcHJvZ3Jlc3Mgb24gZXJyb3JcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNGZXRjaGluZ0xvY2F0aW9uKGZhbHNlKTtcbiAgICAgIC8vIE9ubHkgc2V0IGlzTG9hZGluZyB0byBmYWxzZSBpZiB0aGlzIHdhcyB0aGUgbWFpbiBsb2FkaW5nIHN0ZXAuXG4gICAgICAvLyBJZiBtb2RlbHMvY2FtZXJhIGFyZSBzdGlsbCBsb2FkaW5nLCBrZWVwIGlzTG9hZGluZyB0cnVlLlxuICAgICAgaWYgKG1vZGVsc0xvYWRlZCAmJiBoYXNDYW1lcmFQZXJtaXNzaW9uICE9PSBudWxsKSB7XG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbaXNDbGllbnQsIGF1dGhDaGVja0NvbXBsZXRlZCwgZW1wbG95ZWVEZXRhaWxzLCB0b2FzdCwgaXNGZXRjaGluZ0xvY2F0aW9uLCBpc0xvYWRpbmcsIHN0YXR1c01lc3NhZ2UsIG1vZGVsc0xvYWRlZCwgaGFzQ2FtZXJhUGVybWlzc2lvbl0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlzQ2xpZW50ICYmIGF1dGhDaGVja0NvbXBsZXRlZCAmJiBlbXBsb3llZURldGFpbHMgJiYgaGFzQ2FtZXJhUGVybWlzc2lvbiA9PT0gdHJ1ZSAmJiBtb2RlbHNMb2FkZWQgJiYgIW1vZGVsc0xvYWRlZEVycm9yKSB7XG4gICAgICAgIGlmICghbG9jYXRpb24gJiYgIWxvY2F0aW9uRXJyb3IgJiYgIWlzRmV0Y2hpbmdMb2NhdGlvbikge1xuICAgICAgICAgICAgIGZldGNoTG9jYXRpb25BbmRBZGRyZXNzKCk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzQ2xpZW50ICYmIGF1dGhDaGVja0NvbXBsZXRlZCAmJiBlbXBsb3llZURldGFpbHMgJiYgKGhhc0NhbWVyYVBlcm1pc3Npb24gIT09IHRydWUgfHwgIW1vZGVsc0xvYWRlZCB8fCBtb2RlbHNMb2FkZWRFcnJvcikpIHtcbiAgICAgICAgaWYoaXNMb2FkaW5nICYmICFzdGF0dXNNZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJlcnJvclwiKSl7XG4gICAgICAgICAgICAgaWYgKCFtb2RlbHNMb2FkZWRFcnJvciAmJiBoYXNDYW1lcmFQZXJtaXNzaW9uICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGlmKCFzdGF0dXNNZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJjYW1lcmFcIikgJiYgIXN0YXR1c01lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcIm1vZGVsXCIpKSB7XG4gICAgICAgICAgICAgICAgICAvLyBJZiBldmVyeXRoaW5nIGVsc2UgaXMgZmluZSBidXQgbG9jYXRpb24gaGFzbid0IHN0YXJ0ZWQsIGRvbid0IGp1c3Qgc2V0IGxvYWRpbmcgZmFsc2VcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgfSwgW2lzQ2xpZW50LCBhdXRoQ2hlY2tDb21wbGV0ZWQsIGVtcGxveWVlRGV0YWlscywgaGFzQ2FtZXJhUGVybWlzc2lvbiwgbW9kZWxzTG9hZGVkLCBmZXRjaExvY2F0aW9uQW5kQWRkcmVzcywgbW9kZWxzTG9hZGVkRXJyb3IsIGlzTG9hZGluZywgc3RhdHVzTWVzc2FnZSwgbG9jYXRpb24sIGxvY2F0aW9uRXJyb3IsIGlzRmV0Y2hpbmdMb2NhdGlvbl0pO1xuXG5cbiAgY29uc3QgY2FwdHVyZUFuZE1hcmtBdHRlbmRhbmNlID0gdXNlQ2FsbGJhY2soYXN5bmMgKG1ldGhvZDogJ2F1dG8nIHwgJ21hbnVhbCcpID0+IHtcbiAgICBpZiAoIXZpZGVvUmVmLmN1cnJlbnQgfHwgIWNhbnZhc1JlZi5jdXJyZW50IHx8ICFsb2NhdGlvbiB8fCAhYWRkcmVzcyB8fCAhZW1wbG95ZWVEZXRhaWxzIHx8IGlzUHJvY2Vzc2luZyB8fCBjYXB0dXJlQ29vbGRvd25BY3RpdmUgfHwgbW9kZWxzTG9hZGVkRXJyb3IgfHwgIWlzU3RyZWFtUGxheWluZyApIHtcbiAgICAgIGxldCBtaXNzaW5nSW5mbyA9IFtdO1xuICAgICAgaWYgKCFpc1N0cmVhbVBsYXlpbmcpIG1pc3NpbmdJbmZvLnB1c2goXCJjYW1lcmEgc3RyZWFtIG5vdCBhY3RpdmVcIik7XG4gICAgICBpZiAoIWxvY2F0aW9uIHx8ICFhZGRyZXNzKSBtaXNzaW5nSW5mby5wdXNoKFwibG9jYXRpb24vYWRkcmVzcyBkYXRhXCIpO1xuICAgICAgaWYgKCFlbXBsb3llZURldGFpbHMpIG1pc3NpbmdJbmZvLnB1c2goXCJlbXBsb3llZSBkZXRhaWxzXCIpO1xuICAgICAgaWYgKGlzUHJvY2Vzc2luZykgbWlzc2luZ0luZm8ucHVzaChcInByb2Nlc3MgcnVubmluZ1wiKTtcbiAgICAgIGlmIChjYXB0dXJlQ29vbGRvd25BY3RpdmUpIG1pc3NpbmdJbmZvLnB1c2goXCJjb29sZG93biBhY3RpdmVcIik7XG4gICAgICBpZiAobW9kZWxzTG9hZGVkRXJyb3IpIG1pc3NpbmdJbmZvLnB1c2goXCJmYWNlIG1vZGVscyBlcnJvclwiKTtcblxuICAgICAgY29uc3QgbWVzc2FnZSA9IGBDYW5ub3QgTWFyayBBdHRlbmRhbmNlLiBNaXNzaW5nOiAke21pc3NpbmdJbmZvLmpvaW4oJywgJykgfHwgJ2NvbmRpdGlvbnMnfS4gJHttb2RlbHNMb2FkZWRFcnJvciA/IFwiRml4IG1vZGVsIGxvYWRpbmcgaXNzdWUuXCIgOiBcIlwifWA7XG4gICAgICBjb25zb2xlLndhcm4oYEF0dGVuZGFuY2VQYWdlOiBDYXB0dXJlIHNraXBwZWQgKE1ldGhvZDogJHttZXRob2R9KS4gJHttZXNzYWdlfWApO1xuICAgICAgaWYgKG1ldGhvZCA9PT0gJ21hbnVhbCcgJiYgIWNhcHR1cmVDb29sZG93bkFjdGl2ZSkge1xuICAgICAgICB0b2FzdCh7IHRpdGxlOiAnQ2Fubm90IE1hcmsgQXR0ZW5kYW5jZScsIGRlc2NyaXB0aW9uOiBtZXNzYWdlLCB2YXJpYW50OiAnd2FybmluZycsIGR1cmF0aW9uOiA3MDAwIH0pO1xuICAgICAgfVxuICAgICAgc2V0SXNQcm9jZXNzaW5nKGZhbHNlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZXRJc1Byb2Nlc3NpbmcodHJ1ZSk7XG4gICAgc2V0Q2FwdHVyZUNvb2xkb3duQWN0aXZlKHRydWUpO1xuICAgIHNldFN0YXR1c01lc3NhZ2UoYENhcHR1cmluZyBhdHRlbmRhbmNlICgke21ldGhvZH0pLi4uYCk7XG4gICAgc2V0UHJvZ3Jlc3MoNTApO1xuXG4gICAgY29uc3QgdmlkZW8gPSB2aWRlb1JlZi5jdXJyZW50O1xuICAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc1JlZi5jdXJyZW50O1xuICAgIGNhbnZhcy53aWR0aCA9IHZpZGVvLnZpZGVvV2lkdGg7XG4gICAgY2FudmFzLmhlaWdodCA9IHZpZGVvLnZpZGVvSGVpZ2h0O1xuICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgICAgdG9hc3Qoe3RpdGxlOiBcIkNhcHR1cmUgRXJyb3JcIiwgZGVzY3JpcHRpb246IFwiRmFpbGVkIHRvIGluaXQgaW1hZ2UgY2FwdHVyZS5cIiwgdmFyaWFudDogXCJkZXN0cnVjdGl2ZVwifSk7XG4gICAgICAgIHNldElzUHJvY2Vzc2luZyhmYWxzZSk7XG4gICAgICAgIHNldENhcHR1cmVDb29sZG93bkFjdGl2ZShmYWxzZSk7IC8vIFJlc2V0IGNvb2xkb3duIGlmIGNhcHR1cmUgZmFpbHMgZWFybHlcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb250ZXh0LmRyYXdJbWFnZSh2aWRlbywgMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICBjb25zdCBwaG90b0RhdGFVcmkgPSBjYW52YXMudG9EYXRhVVJMKCdpbWFnZS9qcGVnJyk7XG5cbiAgICBjb25zdCBhdHRlbmRhbmNlRGF0YSA9IHtcbiAgICAgIGVtcGxveWVlSWQ6IGVtcGxveWVlRGV0YWlscy5lbXBsb3llZUlkLFxuICAgICAgcGhvbmU6IGVtcGxveWVlRGV0YWlscy5waG9uZSxcbiAgICAgIG5hbWU6IGVtcGxveWVlRGV0YWlscy5uYW1lLFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgbGF0aXR1ZGU6IGxvY2F0aW9uLmxhdGl0dWRlLFxuICAgICAgbG9uZ2l0dWRlOiBsb2NhdGlvbi5sb25naXR1ZGUsXG4gICAgICBhZGRyZXNzOiBhZGRyZXNzLFxuICAgICAgcGhvdG9EYXRhVXJpOiBwaG90b0RhdGFVcmksXG4gICAgICBjYXB0dXJlTWV0aG9kOiBtZXRob2QsXG4gICAgICBzaGlmdFRpbWluZzogZW1wbG95ZWVEZXRhaWxzLnNoaWZ0VGltaW5nLFxuICAgICAgd29ya2luZ0xvY2F0aW9uOiBlbXBsb3llZURldGFpbHMud29ya2luZ0xvY2F0aW9uLFxuICAgIH07XG5cbiAgICB0cnkge1xuICAgICAgYXdhaXQgc2F2ZUF0dGVuZGFuY2UoYXR0ZW5kYW5jZURhdGEpO1xuICAgICAgc2V0U3RhdHVzTWVzc2FnZShgQXR0ZW5kYW5jZSBtYXJrZWQgdmlhICR7bWV0aG9kfSBhdCAke25ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCl9IWApO1xuICAgICAgc2V0UHJvZ3Jlc3MoMTAwKTtcbiAgICAgIHRvYXN0KHsgdGl0bGU6ICdBdHRlbmRhbmNlIE1hcmtlZCcsIGRlc2NyaXB0aW9uOiBgTWFya2VkIGZvciAke2VtcGxveWVlRGV0YWlscy5uYW1lfS5gLCB2YXJpYW50OiAnZGVmYXVsdCcgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgc2V0U3RhdHVzTWVzc2FnZShgRXJyb3I6IENvdWxkIG5vdCBzYXZlIGF0dGVuZGFuY2UuICR7ZXJyb3IubWVzc2FnZSB8fCAnJ31gKTtcbiAgICAgIHNldFByb2dyZXNzKDApO1xuICAgICAgdG9hc3QoeyB0aXRsZTogJ0F0dGVuZGFuY2UgRXJyb3InLCBkZXNjcmlwdGlvbjogYEZhaWxlZCB0byBzYXZlLiAke2Vycm9yLm1lc3NhZ2UgfHwgJ1RyeSBhZ2Fpbi4nfWAsIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScgfSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzUHJvY2Vzc2luZyhmYWxzZSk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHNldENhcHR1cmVDb29sZG93bkFjdGl2ZShmYWxzZSksIDUwMDApOyAvLyA1LXNlY29uZCBjb29sZG93blxuICAgIH1cbiAgfSwgW2xvY2F0aW9uLCBhZGRyZXNzLCBlbXBsb3llZURldGFpbHMsIHRvYXN0LCBpc1Byb2Nlc3NpbmcsIGNhcHR1cmVDb29sZG93bkFjdGl2ZSwgbW9kZWxzTG9hZGVkRXJyb3IsIGlzU3RyZWFtUGxheWluZ10pO1xuXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWlzQ2xpZW50IHx8ICFtb2RlbHNMb2FkZWQgfHwgbW9kZWxzTG9hZGVkRXJyb3IgfHwgIWlzU3RyZWFtUGxheWluZyB8fCAhdmlkZW9SZWYuY3VycmVudCB8fCBpc0xvYWRpbmcgfHwgISFsb2NhdGlvbkVycm9yIHx8IGlzRmV0Y2hpbmdMb2NhdGlvbiApIHtcbiAgICAgIGlmIChmYWNlRGV0ZWN0aW9uSW50ZXJ2YWxSZWYuY3VycmVudCkgY2xlYXJJbnRlcnZhbChmYWNlRGV0ZWN0aW9uSW50ZXJ2YWxSZWYuY3VycmVudCk7XG4gICAgICBpZiAoYXV0b0NhcHR1cmVUaW1lb3V0UmVmLmN1cnJlbnQpIGNsZWFyVGltZW91dChhdXRvQ2FwdHVyZVRpbWVvdXRSZWYuY3VycmVudCk7XG4gICAgICBzZXRJc0ZhY2VEZXRlY3RlZChmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdmlkZW8gPSB2aWRlb1JlZi5jdXJyZW50O1xuXG4gICAgY29uc3Qgc3RhcnRGYWNlRGV0ZWN0aW9uID0gKCkgPT4ge1xuICAgICAgZmFjZURldGVjdGlvbkludGVydmFsUmVmLmN1cnJlbnQgPSBzZXRJbnRlcnZhbChhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICh2aWRlbyAmJiBpc1N0cmVhbVBsYXlpbmcgJiYgIWlzUHJvY2Vzc2luZyAmJiAhY2FwdHVyZUNvb2xkb3duQWN0aXZlICYmIG1vZGVsc0xvYWRlZCAmJiAhbW9kZWxzTG9hZGVkRXJyb3IgJiYgbG9jYXRpb24gJiYgYWRkcmVzcykge1xuICAgICAgICAgIGNvbnN0IGRldGVjdGlvbnMgPSBhd2FpdCBmYWNlYXBpLmRldGVjdEFsbEZhY2VzKHZpZGVvLCBuZXcgZmFjZWFwaS5UaW55RmFjZURldGVjdG9yT3B0aW9ucyh7c2NvcmVUaHJlc2hvbGQ6IDAuNX0pKVxuICAgICAgICAgICAgLndpdGhGYWNlTGFuZG1hcmtzKClcbiAgICAgICAgICAgIC53aXRoRmFjZUV4cHJlc3Npb25zKCk7XG5cbiAgICAgICAgICBpZiAoZGV0ZWN0aW9ucyAmJiBkZXRlY3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IG1haW5GYWNlID0gZGV0ZWN0aW9uc1swXTtcbiAgICAgICAgICAgIGNvbnN0IGZhY2VDb25maWRlbmNlID0gbWFpbkZhY2UuZGV0ZWN0aW9uLnNjb3JlO1xuICAgICAgICAgICAgY29uc3QgaXNTbWlsaW5nID0gbWFpbkZhY2UuZXhwcmVzc2lvbnMuaGFwcHkgPiAwLjY7IC8vIFNtaWxlIGRldGVjdGlvbiB0aHJlc2hvbGRcblxuICAgICAgICAgICAgaWYgKGZhY2VDb25maWRlbmNlID4gMC43NSAmJiBpc1NtaWxpbmcpIHsgLy8gU3RyaWN0ZXIgY29uZmlkZW5jZSwgc21pbGUgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICBzZXRJc0ZhY2VEZXRlY3RlZCh0cnVlKTtcbiAgICAgICAgICAgICAgICBpZiAoIWF1dG9DYXB0dXJlVGltZW91dFJlZi5jdXJyZW50KSB7IC8vIE9ubHkgc3RhcnQgdGltZW91dCBpZiBub3QgYWxyZWFkeSBydW5uaW5nXG4gICAgICAgICAgICAgICAgICAgIHNldFN0YXR1c01lc3NhZ2UoXCJGYWNlIGRldGVjdGVkISBBdXRvLWNhcHR1cmluZyBpbiAycy4uLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgYXV0b0NhcHR1cmVUaW1lb3V0UmVmLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0ZhY2VEZXRlY3RlZCAmJiAhaXNQcm9jZXNzaW5nICYmICFjYXB0dXJlQ29vbGRvd25BY3RpdmUgJiYgbG9jYXRpb24gJiYgYWRkcmVzcyAmJiBtb2RlbHNMb2FkZWQgJiYgIW1vZGVsc0xvYWRlZEVycm9yICYmIGlzU3RyZWFtUGxheWluZyAmJiB2aWRlb1JlZi5jdXJyZW50Py5zcmNPYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcHR1cmVBbmRNYXJrQXR0ZW5kYW5jZSgnYXV0bycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b0NhcHR1cmVUaW1lb3V0UmVmLmN1cnJlbnQgPSBudWxsOyAvLyBDbGVhciB0aW1lb3V0IHJlZiBhZnRlciBleGVjdXRpb25cbiAgICAgICAgICAgICAgICAgICAgfSwgMjAwMCk7IC8vIDItc2Vjb25kIGRlbGF5XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXRJc0ZhY2VEZXRlY3RlZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgaWYgKGF1dG9DYXB0dXJlVGltZW91dFJlZi5jdXJyZW50KSBjbGVhclRpbWVvdXQoYXV0b0NhcHR1cmVUaW1lb3V0UmVmLmN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIGF1dG9DYXB0dXJlVGltZW91dFJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoIXN0YXR1c01lc3NhZ2UuaW5jbHVkZXMoXCJjYXB0dXJpbmdcIikgJiYgIXN0YXR1c01lc3NhZ2UuaW5jbHVkZXMoXCJtYXJrZWRcIikgJiYgIXN0YXR1c01lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcImVycm9yXCIpKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoZmFjZUNvbmZpZGVuY2UgPD0gMC43NSkgc2V0U3RhdHVzTWVzc2FnZShcIkZhY2Ugbm90IGNsZWFyIGVub3VnaC4gQWRqdXN0IHBvc2l0aW9uLlwiKTtcbiAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFpc1NtaWxpbmcpIHNldFN0YXR1c01lc3NhZ2UoXCJQbGVhc2Ugc21pbGUgZm9yIHRoZSBjYW1lcmEhXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgeyAvLyBObyBmYWNlIGRldGVjdGVkXG4gICAgICAgICAgICBzZXRJc0ZhY2VEZXRlY3RlZChmYWxzZSk7XG4gICAgICAgICAgICBpZiAoYXV0b0NhcHR1cmVUaW1lb3V0UmVmLmN1cnJlbnQpIGNsZWFyVGltZW91dChhdXRvQ2FwdHVyZVRpbWVvdXRSZWYuY3VycmVudCk7XG4gICAgICAgICAgICBhdXRvQ2FwdHVyZVRpbWVvdXRSZWYuY3VycmVudCA9IG51bGw7XG4gICAgICAgICAgICAgaWYgKCFzdGF0dXNNZXNzYWdlLmluY2x1ZGVzKFwiY2FwdHVyaW5nXCIpICYmICFzdGF0dXNNZXNzYWdlLmluY2x1ZGVzKFwibWFya2VkXCIpICYmICFzdGF0dXNNZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJlcnJvclwiKSkgc2V0U3RhdHVzTWVzc2FnZShcIk5vIGZhY2UgZGV0ZWN0ZWQuIEVuc3VyZSBnb29kIGxpZ2h0aW5nICYgY2xlYXIgdmlldy5cIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCAxMDAwKTsgLy8gRGV0ZWN0aW9uIGludGVydmFsXG4gICAgfTtcblxuICAgIHN0YXJ0RmFjZURldGVjdGlvbigpO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChmYWNlRGV0ZWN0aW9uSW50ZXJ2YWxSZWYuY3VycmVudCkgY2xlYXJJbnRlcnZhbChmYWNlRGV0ZWN0aW9uSW50ZXJ2YWxSZWYuY3VycmVudCk7XG4gICAgICBpZiAoYXV0b0NhcHR1cmVUaW1lb3V0UmVmLmN1cnJlbnQpIGNsZWFyVGltZW91dChhdXRvQ2FwdHVyZVRpbWVvdXRSZWYuY3VycmVudCk7XG4gICAgfTtcbiAgfSwgW2lzQ2xpZW50LCBtb2RlbHNMb2FkZWQsIG1vZGVsc0xvYWRlZEVycm9yLCBpc1N0cmVhbVBsYXlpbmcsIGlzTG9hZGluZywgbG9jYXRpb25FcnJvciwgaXNGZXRjaGluZ0xvY2F0aW9uLCBjYXB0dXJlQW5kTWFya0F0dGVuZGFuY2UsIGlzUHJvY2Vzc2luZywgY2FwdHVyZUNvb2xkb3duQWN0aXZlLCBsb2NhdGlvbiwgYWRkcmVzcywgc3RhdHVzTWVzc2FnZV0pO1xuXG5cbiAgY29uc3QgaGFuZGxlTWFudWFsQ2FwdHVyZSA9ICgpID0+IHtcbiAgICBpZiAoY2FwdHVyZUNvb2xkb3duQWN0aXZlKSB7XG4gICAgICAgIHRvYXN0KHt0aXRsZTogXCJDb29sZG93biBBY3RpdmVcIiwgZGVzY3JpcHRpb246IFwiV2FpdCBhIG1vbWVudCBiZWZvcmUgdHJ5aW5nIGFnYWluLlwiLCB2YXJpYW50OiBcIndhcm5pbmdcIn0pOyByZXR1cm47XG4gICAgfVxuICAgIGlmIChtb2RlbHNMb2FkZWRFcnJvcikge1xuICAgICAgICB0b2FzdCh7dGl0bGU6IFwiTW9kZWxzIEVycm9yXCIsIGRlc2NyaXB0aW9uOiBgRmFjZSBtb2RlbHMgZmFpbGVkLiBDYW5ub3QgY2FwdHVyZS4gRml4IG1vZGVsIGxvYWRpbmcuYCwgdmFyaWFudDogXCJkZXN0cnVjdGl2ZVwifSk7IHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIWlzU3RyZWFtUGxheWluZykge1xuICAgICAgICB0b2FzdCh7dGl0bGU6IFwiQ2FtZXJhIElzc3VlXCIsIGRlc2NyaXB0aW9uOiBgQ2FtZXJhIG5vdCByZWFkeSBvciBzdHJlYW0gbm90IGFjdGl2ZS5gLCB2YXJpYW50OiBcIndhcm5pbmdcIn0pOyByZXR1cm47XG4gICAgfVxuICAgIGlmICghbG9jYXRpb24gfHwgIWFkZHJlc3MpIHtcbiAgICAgICAgdG9hc3Qoe3RpdGxlOiBcIkxvY2F0aW9uIE1pc3NpbmdcIiwgZGVzY3JpcHRpb246IFwiTG9jYXRpb24gZGF0YSB1bmF2YWlsYWJsZS4gV2FpdCBvciByZWZyZXNoLlwiLCB2YXJpYW50OiBcIndhcm5pbmdcIn0pOyByZXR1cm47XG4gICAgfVxuICAgIGlmICghbW9kZWxzTG9hZGVkKSB7XG4gICAgICAgIHRvYXN0KHt0aXRsZTogXCJNb2RlbHMgTm90IFJlYWR5XCIsIGRlc2NyaXB0aW9uOiBcIkZhY2UgbW9kZWxzIHN0aWxsIGxvYWRpbmcgb3IgZmFpbGVkLiBQbGVhc2Ugd2FpdC5cIiwgdmFyaWFudDogXCJ3YXJuaW5nXCJ9KTsgcmV0dXJuO1xuICAgIH1cbiAgICBjYXB0dXJlQW5kTWFya0F0dGVuZGFuY2UoJ21hbnVhbCcpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUxvZ291dCA9ICgpID0+IHtcbiAgICBsb2dvdXRVc2VyKCk7XG4gICAgaWYgKGZhY2VEZXRlY3Rpb25JbnRlcnZhbFJlZi5jdXJyZW50KSBjbGVhckludGVydmFsKGZhY2VEZXRlY3Rpb25JbnRlcnZhbFJlZi5jdXJyZW50KTtcbiAgICBpZiAoYXV0b0NhcHR1cmVUaW1lb3V0UmVmLmN1cnJlbnQpIGNsZWFyVGltZW91dChhdXRvQ2FwdHVyZVRpbWVvdXRSZWYuY3VycmVudCk7XG4gICAgaWYgKHZpZGVvUmVmLmN1cnJlbnQgJiYgdmlkZW9SZWYuY3VycmVudC5zcmNPYmplY3QpIHtcbiAgICAgICAgY29uc3Qgc3RyZWFtID0gdmlkZW9SZWYuY3VycmVudC5zcmNPYmplY3QgYXMgTWVkaWFTdHJlYW07XG4gICAgICAgIHN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKHRyYWNrID0+IHRyYWNrLnN0b3AoKSk7XG4gICAgICAgIHZpZGVvUmVmLmN1cnJlbnQuc3JjT2JqZWN0ID0gbnVsbDtcbiAgICB9XG4gICAgc2V0SXNTdHJlYW1QbGF5aW5nKGZhbHNlKTtcbiAgICBzZXRIYXNDYW1lcmFQZXJtaXNzaW9uKG51bGwpO1xuICAgIHRvYXN0KHsgdGl0bGU6ICdMb2dnZWQgT3V0JywgZGVzY3JpcHRpb246ICdTdWNjZXNzZnVsbHkgbG9nZ2VkIG91dC4nIH0pO1xuICAgIHJvdXRlci5yZXBsYWNlKCcvbG9naW4nKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVSZWZyZXNoTG9jYXRpb24gPSAoKSA9PiB7XG4gICAgaWYgKCFpc0ZldGNoaW5nTG9jYXRpb24pIHtcbiAgICAgICAgZmV0Y2hMb2NhdGlvbkFuZEFkZHJlc3MoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0b2FzdCh7dGl0bGU6IFwiUGxlYXNlIFdhaXRcIiwgZGVzY3JpcHRpb246IFwiTG9jYXRpb24gZmV0Y2ggYWxyZWFkeSBpbiBwcm9ncmVzcy5cIiwgdmFyaWFudDogXCJkZWZhdWx0XCJ9KTtcbiAgICB9XG4gIH07XG5cbiAgaWYgKCFpc0NsaWVudCB8fCAhYXV0aENoZWNrQ29tcGxldGVkIHx8ICghZW1wbG95ZWVEZXRhaWxzICYmICFzdGF0dXNNZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJlcnJvcjogZW1wbG95ZWUgZGV0YWlscyBub3QgZm91bmRcIikpICkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG1pbi1oLXNjcmVlbiBiZy1ncmFkaWVudC10by1iciBmcm9tLWdyYXktMTAwIHRvLWdyYXktMzAwIGRhcms6ZnJvbS1ncmF5LTgwMCBkYXJrOnRvLWdyYXktOTAwIHAtNFwiPlxuICAgICAgICA8TG9hZGVyMiBjbGFzc05hbWU9XCJoLTEyIHctMTIgYW5pbWF0ZS1zcGluIHRleHQtcHJpbWFyeSBtYi00XCIgLz5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1sZyB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj57c3RhdHVzTWVzc2FnZX08L3A+XG4gICAgICAgIHsgKGlzTG9hZGluZyB8fCBtb2RlbHNMb2FkaW5nIHx8IGlzRmV0Y2hpbmdMb2NhdGlvbikgJiYgIXN0YXR1c01lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcImVycm9yXCIpICYmXG4gICAgICAgICAgPFByb2dyZXNzIHZhbHVlPXtwcm9ncmVzc30gY2xhc3NOYW1lPVwidy0xLzIgbXQtNCBoLTIuNSByb3VuZGVkLWZ1bGxcIiAvPlxuICAgICAgICB9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgY29uc3Qgc2hvd0dlbmVyYWxMb2FkaW5nU2NyZWVuID0gKGlzTG9hZGluZyB8fCBtb2RlbHNMb2FkaW5nIHx8IGlzRmV0Y2hpbmdMb2NhdGlvbikgJiYgKCFtb2RlbHNMb2FkZWQgfHwgaGFzQ2FtZXJhUGVybWlzc2lvbiA9PT0gbnVsbCB8fCAoIWxvY2F0aW9uICYmICFsb2NhdGlvbkVycm9yKSkgJiYgIW1vZGVsc0xvYWRlZEVycm9yO1xuXG4gIGlmIChzaG93R2VuZXJhbExvYWRpbmdTY3JlZW4pIHtcbiAgICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgbWluLWgtc2NyZWVuIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tZ3JheS0xMDAgdG8tZ3JheS0zMDAgZGFyazpmcm9tLWdyYXktODAwIGRhcms6dG8tZ3JheS05MDAgcC00XCI+XG4gICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT1cImgtMTIgdy0xMiBhbmltYXRlLXNwaW4gdGV4dC1wcmltYXJ5IG1iLTRcIiAvPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWxnIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPntzdGF0dXNNZXNzYWdlfTwvcD5cbiAgICAgICAgeyFzdGF0dXNNZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJlcnJvclwiKSAmJiA8UHJvZ3Jlc3MgdmFsdWU9e3Byb2dyZXNzfSBjbGFzc05hbWU9XCJ3LTEvMiBtdC00IGgtMi41IHJvdW5kZWQtZnVsbFwiIC8+fVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LXN0YXJ0IG1pbi1oLXNjcmVlbiBiZy1ncmFkaWVudC10by1iciBmcm9tLXNsYXRlLTEwMCB2aWEtZ3JheS0xMDAgdG8tc3RvbmUtMjAwIGRhcms6ZnJvbS1zbGF0ZS04MDAgZGFyazp2aWEtZ3JheS05MDAgZGFyazp0by1uZXV0cmFsLTkwMCBwLTQgcHQtOCBtZDpwdC0xMiBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICA8SW1hZ2VcbiAgICAgICAgZGF0YS1haS1oaW50PVwiYWJzdHJhY3QgYmFja2dyb3VuZFwiXG4gICAgICAgIHNyYz1cImh0dHBzOi8vcGljc3VtLnBob3Rvcy9zZWVkL2F0dGVuZGFuY2ViZy8xOTIwLzEwODBcIlxuICAgICAgICBhbHQ9XCJBYnN0cmFjdCBiYWNrZ3JvdW5kXCJcbiAgICAgICAgZmlsbFxuICAgICAgICBzdHlsZT17e29iamVjdEZpdDpcImNvdmVyXCJ9fVxuICAgICAgICBxdWFsaXR5PXs1MH1cbiAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCB6LTAgb3BhY2l0eS01IGRhcms6b3BhY2l0eS1bMC4wM11cIlxuICAgICAgLz5cblxuICAgICAgPGhlYWRlciBjbGFzc05hbWU9XCJyZWxhdGl2ZSB6LTEwIHctZnVsbCBtYXgtdy00eGwgbWItNiBmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTIgYmctcHJpbWFyeS8xMCByb3VuZGVkLWZ1bGxcIj5cbiAgICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGNsYXNzTmFtZT1cInctOCBoLTggdGV4dC1wcmltYXJ5XCI+XG4gICAgICAgICAgICAgICA8cGF0aCBkPVwiTTE4LjM3NSAyLjI1Yy0xLjAzNSAwLTEuODc1Ljg0LTEuODc1IDEuODc1djE1Ljc1YzAgMS4wMzUuODQgMS44NzUgMS44NzUgMS44NzVoLjc1YzEuMDM1IDAgMS44NzUtLjg0IDEuODc1LTEuODc1VjQuMTI1YzAtMS4wMzUtLjg0LTEuODc1LTEuODc1LTEuODc1aC0uNzVaTTkuNzUgOC42MjVjMC0xLjAzNS44NC0xLjg3NSAxLjg3NS0xLjg3NWguNzVjMS4wMzUgMCAxLjg3NS44NCAxLjg3NSAxLjg3NVYyMS43NWMwIDEuMDM1LS44NCAxLjg3NS0xLjg3NS0xLjg3NWgtLjc1Yy0xLjAzNSAwLTEuODc1LS44NC0xLjg3NS0xLjg3NVY4LjYyNVpNMyAxMy4xMjVjMC0xLjAzNS44NC0xLjg3NSAxLjg3NS0xLjg3NWguNzVjMS4wMzUgMCAxLjg3NS44NCAxLjg3NSAxLjg3NVYyMS43NWMwIDEuMDM1LS44NCAxLjg3NS0xLjg3NS0xLjg3NWgtLjc1QTEuODc1IDEuODc1IDAgMCAxIDMgMjEuNzVWMTMuMTI1WlwiIC8+XG4gICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtMnhsIG1kOnRleHQtM3hsIGZvbnQtYm9sZCB0ZXh0LXByaW1hcnlcIj5GaWVsZFRyYWNrPC9oMT5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPkUgV2hlZWxzIGFuZCBMb2dpc3RpY3M8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxCdXR0b24gdmFyaWFudD1cIm91dGxpbmVcIiBvbkNsaWNrPXtoYW5kbGVMb2dvdXR9IHNpemU9XCJzbVwiPlxuICAgICAgICAgIDxMb2dPdXQgY2xhc3NOYW1lPVwibXItMiBoLTQgdy00XCIgLz4gTG9nb3V0XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgPC9oZWFkZXI+XG5cbiAgICAgIDxtYWluIGNsYXNzTmFtZT1cInJlbGF0aXZlIHotMTAgdy1mdWxsIG1heC13LTR4bCBncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIGdhcC02IG1kOmdhcC04XCI+XG4gICAgICAgIDxDYXJkIGNsYXNzTmFtZT1cInNoYWRvdy14bCBjb2wtc3Bhbi0xIGJnLWNhcmQvODAgYmFja2Ryb3AtYmx1ci1zbSBkYXJrOmJnLWNhcmQvNzBcIj5cbiAgICAgICAgICA8Q2FyZEhlYWRlcj5cbiAgICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC14bFwiPlxuICAgICAgICAgICAgICA8Q2FtZXJhIGNsYXNzTmFtZT1cInRleHQtcHJpbWFyeVwiIC8+IENhbWVyYSBGZWVkXG4gICAgICAgICAgICA8L0NhcmRUaXRsZT5cbiAgICAgICAgICAgIDxDYXJkRGVzY3JpcHRpb24gY2xhc3NOYW1lPVwidGV4dC14cyB3aGl0ZXNwYWNlLXByZS1saW5lIG1pbi1oLVszZW1dXCI+XG4gICAgICAgICAgICAgIHttb2RlbHNMb2FkZWRFcnJvciA/IFwiU2VlIGRldGFpbGVkIGVycm9yIGJlbG93LlwiIDpcbiAgICAgICAgICAgICAgIGhhc0NhbWVyYVBlcm1pc3Npb24gPT09IG51bGwgPyBcIkluaXRpYWxpemluZyBjYW1lcmEuLi5cIiA6XG4gICAgICAgICAgICAgICBoYXNDYW1lcmFQZXJtaXNzaW9uID09PSBmYWxzZSA/IFwiQ2FtZXJhIGFjY2VzcyBkZW5pZWQgb3IgZmFpbGVkLiBHcmFudCBwZXJtaXNzaW9uICYgcmVmcmVzaC5cIiA6XG4gICAgICAgICAgICAgICAhbW9kZWxzTG9hZGVkICYmIG1vZGVsc0xvYWRpbmcgPyBcIkxvYWRpbmcgZmFjZSBtb2RlbHMuLi5cIiA6XG4gICAgICAgICAgICAgICBoYXNDYW1lcmFQZXJtaXNzaW9uICYmIG1vZGVsc0xvYWRlZCAmJiBpc1N0cmVhbVBsYXlpbmcgPyBcIlBvc2l0aW9uIGZhY2UgaW4gY2VudGVyICYgc21pbGUgZm9yIGF1dG8tY2FwdHVyZS5cIiA6XG4gICAgICAgICAgICAgICBoYXNDYW1lcmFQZXJtaXNzaW9uICYmIG1vZGVsc0xvYWRlZCAmJiAhaXNTdHJlYW1QbGF5aW5nID8gXCJDYW1lcmEgc3RyZWFtIGluaXRpYWxpemluZyBvciBwYXVzZWQuIEVuc3VyZSBjYW1lcmEgaXMgbm90IGNvdmVyZWQuXCIgOlxuICAgICAgICAgICAgICAgXCJDYW1lcmEgc3RhdHVzIHVua25vd24uIEVuc3VyZSBwZXJtaXNzaW9ucy5cIlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA8L0NhcmREZXNjcmlwdGlvbj5cbiAgICAgICAgICA8L0NhcmRIZWFkZXI+XG4gICAgICAgICAgPENhcmRDb250ZW50IGNsYXNzTmFtZT1cInJlbGF0aXZlIGFzcGVjdC1bNC8zXSBvdmVyZmxvdy1oaWRkZW4gcm91bmRlZC1iLWxnIGJnLW11dGVkIGRhcms6YmctbXV0ZWQvMzBcIj5cbiAgICAgICAgICAgICB7LyogVmlkZW8gZWxlbWVudCBpcyBhbHdheXMgcHJlc2VudCBmb3IgdGhlIGNhbWVyYSBzdHJlYW0gKi99XG4gICAgICAgICAgICA8dmlkZW9cbiAgICAgICAgICAgICAgcmVmPXt2aWRlb1JlZn1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTAgbGVmdC0wIHctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvdmVyIHJvdW5kZWQtYi1sZ1wiXG4gICAgICAgICAgICAgIGF1dG9QbGF5XG4gICAgICAgICAgICAgIHBsYXlzSW5saW5lXG4gICAgICAgICAgICAgIG11dGVkXG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgey8qIENhbnZhcyBpcyB1c2VkIGZvciBjYXB0dXJpbmcgc25hcHNob3QsIGtlcHQgaGlkZGVuIHVubGVzcyBuZWVkZWQgZm9yIHNwZWNpZmljIGRyYXdpbmcgKi99XG4gICAgICAgICAgICA8Y2FudmFzIHJlZj17Y2FudmFzUmVmfSBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMCBsZWZ0LTAgdy1mdWxsIGgtZnVsbCBvYmplY3QtY292ZXIgaGlkZGVuXCIgLz5cblxuICAgICAgICAgICAge2hhc0NhbWVyYVBlcm1pc3Npb24gPT09IGZhbHNlICYmICFtb2RlbHNMb2FkZWRFcnJvciAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ibGFjay84MCB0ZXh0LXdoaXRlIHAtNCByb3VuZGVkLWItbGcgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8WENpcmNsZSBjbGFzc05hbWU9XCJ3LTEyIGgtMTIgbWItMiB0ZXh0LWRlc3RydWN0aXZlXCIgLz5cbiAgICAgICAgICAgICAgICA8cD5DYW1lcmEgcGVybWlzc2lvbiBkZW5pZWQgb3IgY2FtZXJhIGVycm9yLiBFbmFibGUgaW4gYnJvd3NlciBzZXR0aW5ncyAmIHJlZnJlc2guPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICAge2lzU3RyZWFtUGxheWluZyAmJiBtb2RlbHNMb2FkZWQgJiYgIW1vZGVsc0xvYWRlZEVycm9yICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGFic29sdXRlIGJvdHRvbS0yIHJpZ2h0LTIgcHgtMiBweS0xIHJvdW5kZWQgdGV4dC14cyBmb250LW1lZGl1bSAke2lzRmFjZURldGVjdGVkID8gJ2JnLWdyZWVuLTUwMC85MCB0ZXh0LXdoaXRlJyA6ICdiZy1yZWQtNTAwLzkwIHRleHQtd2hpdGUnfWB9PlxuICAgICAgICAgICAgICAgICAgICB7aXNGYWNlRGV0ZWN0ZWQgPyAnRmFjZSBDbGVhcicgOiAnRmFjZSBOb3QgQ2xlYXInfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAge2hhc0NhbWVyYVBlcm1pc3Npb24gPT09IHRydWUgJiYgIW1vZGVsc0xvYWRlZCAmJiBtb2RlbHNMb2FkaW5nICYmICFtb2RlbHNMb2FkZWRFcnJvciAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWJsYWNrLzUwIHRleHQtd2hpdGUgcC00IHJvdW5kZWQtYi1sZ1wiPlxuICAgICAgICAgICAgICAgICAgICA8TG9hZGVyMiBjbGFzc05hbWU9XCJ3LTggaC04IGFuaW1hdGUtc3BpbiBtYi0yXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPHA+TG9hZGluZyBmYWNlIG1vZGVscy4uLjwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICApfVxuICAgICAgICAgICAgIHtoYXNDYW1lcmFQZXJtaXNzaW9uID09PSB0cnVlICYmIG1vZGVsc0xvYWRlZCAmJiAhbW9kZWxzTG9hZGVkRXJyb3IgJiYgIWlzU3RyZWFtUGxheWluZyAmJiAhc3RhdHVzTWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwiZXJyb3JcIikgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ibGFjay81MCB0ZXh0LXdoaXRlIHAtNCByb3VuZGVkLWItbGcgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPVwidy04IGgtOCBhbmltYXRlLXNwaW4gbWItMlwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDxwPkluaXRpYWxpemluZyB2aWRlbyBzdHJlYW0uLi48L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHttb2RlbHNMb2FkZWRFcnJvciAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1kZXN0cnVjdGl2ZS85MCB0ZXh0LWRlc3RydWN0aXZlLWZvcmVncm91bmQgcC00IHJvdW5kZWQtYi1sZyB0ZXh0LWNlbnRlciBvdmVyZmxvdy15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgIDxBbGVydFRyaWFuZ2xlIGNsYXNzTmFtZT1cInctMTAgaC0xMCBtYi0yIGZsZXgtc2hyaW5rLTBcIiAvPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWJhc2UgbWItMVwiPkNyaXRpY2FsIEVycm9yOiBNb2RlbHMgRmFpbGVkPC9wPlxuICAgICAgICAgICAgICAgICAgPFNjcm9sbEFyZWEgY2xhc3NOYW1lPVwibWF4LWgtWzEyMHB4XSB0ZXh0LXhzIHdoaXRlc3BhY2UtcHJlLWxpbmUgdGV4dC1sZWZ0IHB4LTIgbWItMiBiZy1kZXN0cnVjdGl2ZS8zMCByb3VuZGVkLXNtIHB5LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgIHttb2RlbHNMb2FkZWRFcnJvcn1cbiAgICAgICAgICAgICAgICAgIDwvU2Nyb2xsQXJlYT5cbiAgICAgICAgICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9eygpID0+IHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKX0gY2xhc3NOYW1lPVwibXQtMlwiIHNpemU9XCJzbVwiIHZhcmlhbnQ9XCJzZWNvbmRhcnlcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8UmVmcmVzaEN3IGNsYXNzTmFtZT1cIm1yLTIgaC0zIHctM1wiIC8+IFJlZnJlc2ggUGFnZVxuICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9DYXJkQ29udGVudD5cbiAgICAgICAgPC9DYXJkPlxuXG4gICAgICAgIDxDYXJkIGNsYXNzTmFtZT1cInNoYWRvdy14bCBjb2wtc3Bhbi0xIGJnLWNhcmQvODAgYmFja2Ryb3AtYmx1ci1zbSBkYXJrOmJnLWNhcmQvNzBcIj5cbiAgICAgICAgICA8Q2FyZEhlYWRlcj5cbiAgICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC14bFwiPlxuICAgICAgICAgICAgICA8VXNlciBjbGFzc05hbWU9XCJ0ZXh0LXByaW1hcnlcIiAvPiBFbXBsb3llZSBEZXRhaWxzXG4gICAgICAgICAgICA8L0NhcmRUaXRsZT5cbiAgICAgICAgICAgIHtlbXBsb3llZURldGFpbHMgPyAoXG4gICAgICAgICAgICAgIDxDYXJkRGVzY3JpcHRpb24+V2VsY29tZSwge2VtcGxveWVlRGV0YWlscy5uYW1lfSEgUmVhZHkgdG8gbWFyayBhdHRlbmRhbmNlLjwvQ2FyZERlc2NyaXB0aW9uPlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgPENhcmREZXNjcmlwdGlvbj5Mb2FkaW5nIGVtcGxveWVlIGluZm9ybWF0aW9uLi4uPC9DYXJkRGVzY3JpcHRpb24+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvQ2FyZEhlYWRlcj5cbiAgICAgICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPVwic3BhY2UteS0zIHRleHQtc21cIj5cbiAgICAgICAgICAgIHtlbXBsb3llZURldGFpbHMgPyAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgPHA+PHN0cm9uZz5JRDo8L3N0cm9uZz4ge2VtcGxveWVlRGV0YWlscy5lbXBsb3llZUlkfTwvcD5cbiAgICAgICAgICAgICAgICA8cD48c3Ryb25nPlBob25lOjwvc3Ryb25nPiB7ZW1wbG95ZWVEZXRhaWxzLnBob25lfTwvcD5cbiAgICAgICAgICAgICAgICA8cD48c3Ryb25nPlNoaWZ0Ojwvc3Ryb25nPiB7ZW1wbG95ZWVEZXRhaWxzLnNoaWZ0VGltaW5nfTwvcD5cbiAgICAgICAgICAgICAgICA8cD48c3Ryb25nPldvcmsgU2l0ZTo8L3N0cm9uZz4ge2VtcGxveWVlRGV0YWlscy53b3JraW5nTG9jYXRpb259PC9wPlxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+XG4gICAgICAgICAgICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPVwiaC00IHctNCBhbmltYXRlLXNwaW5cIiAvPiBMb2FkaW5nIGRldGFpbHMuLi5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgPGhyIGNsYXNzTmFtZT1cIm15LTMgYm9yZGVyLWJvcmRlci81MFwiLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBmb250LXNlbWlib2xkIHRleHQtcHJpbWFyeVwiPlxuICAgICAgICAgICAgICAgICAgICA8TWFwUGluIHNpemU9ezE4fSAvPiBDdXJyZW50IExvY2F0aW9uOlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD1cIm91dGxpbmVcIiBzaXplPVwic21cIiBvbkNsaWNrPXtoYW5kbGVSZWZyZXNoTG9jYXRpb259IGRpc2FibGVkPXtpc0ZldGNoaW5nTG9jYXRpb259PlxuICAgICAgICAgICAgICAgICAgICA8UmVmcmVzaEN3IGNsYXNzTmFtZT17YGgtMyB3LTMgJHtpc0ZldGNoaW5nTG9jYXRpb24gPyAnYW5pbWF0ZS1zcGluJyA6ICcnfWB9IC8+XG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHtpc0ZldGNoaW5nTG9jYXRpb24gJiYgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj48TG9hZGVyMiBjbGFzc05hbWU9XCJoLTQgdy00IGFuaW1hdGUtc3BpblwiIC8+IEZldGNoaW5nIGxvY2F0aW9uLi4uPC9kaXY+fVxuICAgICAgICAgICAge2xvY2F0aW9uRXJyb3IgJiYgIWlzRmV0Y2hpbmdMb2NhdGlvbiAmJiA8QWxlcnQgdmFyaWFudD1cImRlc3RydWN0aXZlXCIgY2xhc3NOYW1lPVwidGV4dC14cyBtdC0yXCI+PEFsZXJ0VHJpYW5nbGUgY2xhc3NOYW1lPVwiaC00IHctNFwiIC8+PEFsZXJ0VGl0bGU+TG9jYXRpb24gRXJyb3I8L0FsZXJ0VGl0bGU+PEFsZXJ0RGVzY3JpcHRpb24+e2xvY2F0aW9uRXJyb3J9PC9BbGVydERlc2NyaXB0aW9uPjwvQWxlcnQ+fVxuICAgICAgICAgICAge2xvY2F0aW9uICYmICFpc0ZldGNoaW5nTG9jYXRpb24gJiYgKFxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkLWZvcmVncm91bmRcIj5cbiAgICAgICAgICAgICAgICBMYXQ6IHtsb2NhdGlvbi5sYXRpdHVkZS50b0ZpeGVkKDUpfSwgTG9uOiB7bG9jYXRpb24ubG9uZ2l0dWRlLnRvRml4ZWQoNSl9XG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7YWRkcmVzcyAmJiAhaXNGZXRjaGluZ0xvY2F0aW9uICYmIDxwIGNsYXNzTmFtZT1cInRleHQtbXV0ZWQtZm9yZWdyb3VuZCB0ZXh0LXhzXCI+e2FkZHJlc3N9PC9wPn1cbiAgICAgICAgICAgIHshYWRkcmVzcyAmJiBsb2NhdGlvbiAmJiAhbG9jYXRpb25FcnJvciAmJiAhaXNGZXRjaGluZ0xvY2F0aW9uICYmIDxwIGNsYXNzTmFtZT1cInRleHQtbXV0ZWQtZm9yZWdyb3VuZCB0ZXh0LXhzIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+PExvYWRlcjIgY2xhc3NOYW1lPVwiaC0zIHctMyBhbmltYXRlLXNwaW5cIiAvPiBGZXRjaGluZyBhZGRyZXNzLi4uPC9wPn1cbiAgICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgICA8L0NhcmQ+XG5cbiAgICAgICAgPENhcmQgY2xhc3NOYW1lPVwibWQ6Y29sLXNwYW4tMiBzaGFkb3cteGwgYmctY2FyZC84MCBiYWNrZHJvcC1ibHVyLXNtIGRhcms6YmctY2FyZC83MFwiPlxuICAgICAgICAgICAgPENhcmRDb250ZW50IGNsYXNzTmFtZT1cInAtNCBzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LWNlbnRlciB0ZXh0LXNtIG1pbi1oLVs0MHB4XSBwLTIgcm91bmRlZC1tZCBiZy1tdXRlZC81MCBkYXJrOmJnLW11dGVkLzMwXCI+XG4gICAgICAgICAgICAgICAgICAgIHtpc1Byb2Nlc3NpbmcgPyA8TG9hZGVyMiBjbGFzc05hbWU9XCJoLTUgdy01IGFuaW1hdGUtc3BpbiBtci0yIHRleHQtcHJpbWFyeVwiIC8+IDpcbiAgICAgICAgICAgICAgICAgICAgIHN0YXR1c01lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcImVycm9yOlwiKSB8fCBtb2RlbHNMb2FkZWRFcnJvciB8fCBsb2NhdGlvbkVycm9yID8gPEFsZXJ0VHJpYW5nbGUgY2xhc3NOYW1lPVwiaC01IHctNSBtci0yIHRleHQtZGVzdHJ1Y3RpdmVcIiAvPiA6XG4gICAgICAgICAgICAgICAgICAgICBzdGF0dXNNZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJzdWNjZXNzXCIpIHx8IHN0YXR1c01lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcInJlYWR5XCIpIHx8IChtb2RlbHNMb2FkZWQgJiYgc3RhdHVzTWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwibW9kZWxzIGxvYWRlZFwiKSAmJiBpc1N0cmVhbVBsYXlpbmcgKSA/IDxDaGVja0NpcmNsZSBjbGFzc05hbWU9XCJoLTUgdy01IG1yLTIgdGV4dC1ncmVlbi01MDBcIiAvPiA6XG4gICAgICAgICAgICAgICAgICAgICAoaXNMb2FkaW5nIHx8IG1vZGVsc0xvYWRpbmcgfHwgaXNGZXRjaGluZ0xvY2F0aW9uIHx8IChoYXNDYW1lcmFQZXJtaXNzaW9uID09PSB0cnVlICYmICFpc1N0cmVhbVBsYXlpbmcpICkgJiYgIXN0YXR1c01lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcImVycm9yXCIpID8gPExvYWRlcjIgY2xhc3NOYW1lPVwiaC01IHctNSBhbmltYXRlLXNwaW4gbXItMiB0ZXh0LXByaW1hcnlcIiAvPiA6XG4gICAgICAgICAgICAgICAgICAgICA8Q2FtZXJhIGNsYXNzTmFtZT1cImgtNSB3LTUgbXItMiB0ZXh0LW11dGVkLWZvcmVncm91bmRcIiAvPlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YCR7c3RhdHVzTWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwiZXJyb3I6XCIpIHx8IG1vZGVsc0xvYWRlZEVycm9yIHx8IGxvY2F0aW9uRXJyb3IgPyAndGV4dC1kZXN0cnVjdGl2ZScgOiAoc3RhdHVzTWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwic3VjY2Vzc1wiKSB8fCBzdGF0dXNNZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJyZWFkeVwiKSB8fCAobW9kZWxzTG9hZGVkICYmIHN0YXR1c01lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcIm1vZGVscyBsb2FkZWRcIikgJiYgaXNTdHJlYW1QbGF5aW5nKSkgPyAndGV4dC1ncmVlbi02MDAgZGFyazp0ZXh0LWdyZWVuLTQwMCcgOiAndGV4dC1tdXRlZC1mb3JlZ3JvdW5kJ30gd2hpdGVzcGFjZS1wcmUtbGluZSB0ZXh0LXhzYH0+XG4gICAgICAgICAgICAgICAgICAgICAgICB7c3RhdHVzTWVzc2FnZX1cbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIHsoaXNQcm9jZXNzaW5nIHx8ICgoaXNMb2FkaW5nIHx8IG1vZGVsc0xvYWRpbmcgfHwgaXNGZXRjaGluZ0xvY2F0aW9uKSAmJiBwcm9ncmVzcyA8IDEwMCAmJiAhc3RhdHVzTWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwiZXJyb3JcIikgJiYgIW1vZGVsc0xvYWRlZEVycm9yICYmICFsb2NhdGlvbkVycm9yICkpICYmIDxQcm9ncmVzcyB2YWx1ZT17cHJvZ3Jlc3N9IGNsYXNzTmFtZT1cInctZnVsbCBoLTJcIiAvPn1cblxuICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZU1hbnVhbENhcHR1cmV9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweS0zIHRleHQtYmFzZSBmb250LXNlbWlib2xkXCJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNQcm9jZXNzaW5nIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXB0dXJlQ29vbGRvd25BY3RpdmUgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICFtb2RlbHNMb2FkZWQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICEhbW9kZWxzTG9hZGVkRXJyb3IgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICFpc1N0cmVhbVBsYXlpbmcgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICEhbG9jYXRpb25FcnJvciB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgIWxvY2F0aW9uIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAhYWRkcmVzcyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNGZXRjaGluZ0xvY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIk1hcmsgQXR0ZW5kYW5jZSBNYW51YWxseVwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7aXNQcm9jZXNzaW5nID8gPExvYWRlcjIgY2xhc3NOYW1lPVwibXItMiBoLTUgdy01IGFuaW1hdGUtc3BpblwiIC8+IDogPENhbWVyYSBjbGFzc05hbWU9XCJtci0yIGgtNSB3LTVcIiAvPn1cbiAgICAgICAgICAgICAgICAgIHtpc1Byb2Nlc3NpbmcgPyAnUHJvY2Vzc2luZy4uLicgOiBjYXB0dXJlQ29vbGRvd25BY3RpdmUgPyAnQ29vbGRvd24uLi4nIDogJ01hcmsgTWFudWFsbHknfVxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1jZW50ZXIgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kLzgwXCI+XG4gICAgICAgICAgICAgICAgICAgIHtjYXB0dXJlQ29vbGRvd25BY3RpdmUgPyBcIlBsZWFzZSB3YWl0IGJlZm9yZSB0cnlpbmcgYWdhaW4uXCIgOlxuICAgICAgICAgICAgICAgICAgICAgKG1vZGVsc0xvYWRlZCAmJiAhbW9kZWxzTG9hZGVkRXJyb3IgJiYgaXNTdHJlYW1QbGF5aW5nICYmIGxvY2F0aW9uICYmIGFkZHJlc3MgJiYgIWlzRmV0Y2hpbmdMb2NhdGlvbiAmJiAhaXNQcm9jZXNzaW5nKSA/IFwiQXV0by1jYXB0dXJlIGFjdGl2ZSBpZiBmYWNlIGlzIGNsZWFyIGFuZCBzbWlsaW5nLlwiIDpcbiAgICAgICAgICAgICAgICAgICAgIG1vZGVsc0xvYWRlZEVycm9yID8gXCJGYWNlIG1vZGVscyBmYWlsZWQuIEF1dG8tY2FwdHVyZSBkaXNhYmxlZC4gRm9sbG93IGluc3RydWN0aW9ucyBpbiBDYW1lcmEgRmVlZC5cIiA6XG4gICAgICAgICAgICAgICAgICAgICAhaXNTdHJlYW1QbGF5aW5nID8gXCJDYW1lcmEgbm90IHN0cmVhbWluZy4gRW5zdXJlIGl0J3Mgbm90IGNvdmVyZWQgYW5kIHBlcm1pc3Npb25zIGFyZSBncmFudGVkLlwiIDpcbiAgICAgICAgICAgICAgICAgICAgIChsb2NhdGlvbkVycm9yIHx8ICFsb2NhdGlvbiB8fCAhYWRkcmVzcykgPyBcIkxvY2F0aW9uIG9yIGFkZHJlc3MgZGF0YSBtaXNzaW5nLiBBdXRvLWNhcHR1cmUgZGlzYWJsZWQuIFRyeSByZWZyZXNoaW5nIGxvY2F0aW9uLlwiIDpcbiAgICAgICAgICAgICAgICAgICAgIFwiRW5zdXJlIGNhbWVyYSwgbG9jYXRpb24gJiBtb2RlbHMgYXJlIHJlYWR5IGZvciBhdHRlbmRhbmNlLlwifVxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICAgIDwvQ2FyZD5cbiAgICAgIDwvbWFpbj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEF0dGVuZGFuY2VQYWdlO1xuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlQ2FsbGJhY2siLCJ1c2VSb3V0ZXIiLCJmYWNlYXBpIiwiQnV0dG9uIiwiQ2FyZCIsIkNhcmRDb250ZW50IiwiQ2FyZERlc2NyaXB0aW9uIiwiQ2FyZEhlYWRlciIsIkNhcmRUaXRsZSIsIlByb2dyZXNzIiwiQWxlcnQiLCJBbGVydERlc2NyaXB0aW9uIiwiQWxlcnRUaXRsZSIsInVzZVRvYXN0IiwiZ2V0Q3VycmVudFBvc2l0aW9uIiwiZ2V0QWRkcmVzc0Zyb21Db29yZGluYXRlcyIsIkdlb2xvY2F0aW9uRXJyb3IiLCJzYXZlQXR0ZW5kYW5jZSIsImdldEVtcGxveWVlQnlJZCIsImNoZWNrTG9naW5TdGF0dXMiLCJsb2dvdXRVc2VyIiwiQ2FtZXJhIiwiTWFwUGluIiwiVXNlciIsIkxvZ091dCIsIkxvYWRlcjIiLCJBbGVydFRyaWFuZ2xlIiwiQ2hlY2tDaXJjbGUiLCJSZWZyZXNoQ3ciLCJYQ2lyY2xlIiwiSW1hZ2UiLCJTY3JvbGxBcmVhIiwiQXR0ZW5kYW5jZVBhZ2UiLCJyb3V0ZXIiLCJ0b2FzdCIsImxvZ2dlZEluVXNlclBob25lIiwic2V0TG9nZ2VkSW5Vc2VyUGhvbmUiLCJlbXBsb3llZURldGFpbHMiLCJzZXRFbXBsb3llZURldGFpbHMiLCJhdXRoQ2hlY2tDb21wbGV0ZWQiLCJzZXRBdXRoQ2hlY2tDb21wbGV0ZWQiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJpc1Byb2Nlc3NpbmciLCJzZXRJc1Byb2Nlc3NpbmciLCJzdGF0dXNNZXNzYWdlIiwic2V0U3RhdHVzTWVzc2FnZSIsInByb2dyZXNzIiwic2V0UHJvZ3Jlc3MiLCJoYXNDYW1lcmFQZXJtaXNzaW9uIiwic2V0SGFzQ2FtZXJhUGVybWlzc2lvbiIsImlzU3RyZWFtUGxheWluZyIsInNldElzU3RyZWFtUGxheWluZyIsIm1vZGVsc0xvYWRlZCIsInNldE1vZGVsc0xvYWRlZCIsIm1vZGVsc0xvYWRpbmciLCJzZXRNb2RlbHNMb2FkaW5nIiwibW9kZWxzTG9hZGVkRXJyb3IiLCJzZXRNb2RlbHNMb2FkZWRFcnJvciIsImlzRmFjZURldGVjdGVkIiwic2V0SXNGYWNlRGV0ZWN0ZWQiLCJjYXB0dXJlQ29vbGRvd25BY3RpdmUiLCJzZXRDYXB0dXJlQ29vbGRvd25BY3RpdmUiLCJsb2NhdGlvbiIsInNldExvY2F0aW9uIiwiYWRkcmVzcyIsInNldEFkZHJlc3MiLCJsb2NhdGlvbkVycm9yIiwic2V0TG9jYXRpb25FcnJvciIsImlzRmV0Y2hpbmdMb2NhdGlvbiIsInNldElzRmV0Y2hpbmdMb2NhdGlvbiIsInZpZGVvUmVmIiwiY2FudmFzUmVmIiwiZmFjZURldGVjdGlvbkludGVydmFsUmVmIiwiYXV0b0NhcHR1cmVUaW1lb3V0UmVmIiwiaXNDbGllbnQiLCJzZXRJc0NsaWVudCIsImN1cnJlbnRMb2dnZWRJblVzZXIiLCJjb25zb2xlIiwibG9nIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsInZhcmlhbnQiLCJyZXBsYWNlIiwidG9Mb3dlckNhc2UiLCJmZXRjaEVtcGxveWVlRGV0YWlscyIsImRldGFpbHMiLCJlcnJvciIsImxvYWRNb2RlbHMiLCJNT0RFTF9VUkwiLCJQcm9taXNlIiwiYWxsIiwibmV0cyIsInRpbnlGYWNlRGV0ZWN0b3IiLCJsb2FkRnJvbVVyaSIsImZhY2VMYW5kbWFyazY4TmV0IiwiZmFjZVJlY29nbml0aW9uTmV0IiwiZmFjZUV4cHJlc3Npb25OZXQiLCJkZXRhaWxlZEVycm9yTWVzc2FnZSIsImVycm9yTWVzc2FnZVN0cmluZyIsIlN0cmluZyIsIm1lc3NhZ2UiLCJpbmNsdWRlcyIsInVybE1hdGNoIiwibWF0Y2giLCJmYWlsZWRVcmxQYXJ0IiwiZHVyYXRpb24iLCJnZXRDYW1lcmFQZXJtaXNzaW9uIiwibmF2aWdhdG9yIiwibWVkaWFEZXZpY2VzIiwiZ2V0VXNlck1lZGlhIiwic3RyZWFtIiwidmlkZW8iLCJmYWNpbmdNb2RlIiwiY3VycmVudCIsInNyY09iamVjdCIsIm9uY2FucGxheSIsInJlYWR5U3RhdGUiLCJwbGF5IiwidGhlbiIsImNhdGNoIiwicGxheUVycm9yIiwib25wbGF5aW5nIiwib25wYXVzZSIsIm9uZW5kZWQiLCJ3YXJuIiwiY2xlYXJJbnRlcnZhbCIsImNsZWFyVGltZW91dCIsImN1cnJlbnRTdHJlYW0iLCJnZXRUcmFja3MiLCJmb3JFYWNoIiwidHJhY2siLCJzdG9wIiwibG9hZCIsIm9uZXJyb3IiLCJlIiwiZXJyb3JNc2ciLCJuYW1lIiwiZmV0Y2hMb2NhdGlvbkFuZEFkZHJlc3MiLCJjb29yZHMiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsImFkZHIiLCJ1c2VyRnJpZW5kbHlNZXNzYWdlIiwiY2FwdHVyZUFuZE1hcmtBdHRlbmRhbmNlIiwibWV0aG9kIiwibWlzc2luZ0luZm8iLCJwdXNoIiwiam9pbiIsImNhbnZhcyIsIndpZHRoIiwidmlkZW9XaWR0aCIsImhlaWdodCIsInZpZGVvSGVpZ2h0IiwiY29udGV4dCIsImdldENvbnRleHQiLCJkcmF3SW1hZ2UiLCJwaG90b0RhdGFVcmkiLCJ0b0RhdGFVUkwiLCJhdHRlbmRhbmNlRGF0YSIsImVtcGxveWVlSWQiLCJwaG9uZSIsInRpbWVzdGFtcCIsIkRhdGUiLCJjYXB0dXJlTWV0aG9kIiwic2hpZnRUaW1pbmciLCJ3b3JraW5nTG9jYXRpb24iLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJzZXRUaW1lb3V0Iiwic3RhcnRGYWNlRGV0ZWN0aW9uIiwic2V0SW50ZXJ2YWwiLCJkZXRlY3Rpb25zIiwiZGV0ZWN0QWxsRmFjZXMiLCJUaW55RmFjZURldGVjdG9yT3B0aW9ucyIsInNjb3JlVGhyZXNob2xkIiwid2l0aEZhY2VMYW5kbWFya3MiLCJ3aXRoRmFjZUV4cHJlc3Npb25zIiwibGVuZ3RoIiwibWFpbkZhY2UiLCJmYWNlQ29uZmlkZW5jZSIsImRldGVjdGlvbiIsInNjb3JlIiwiaXNTbWlsaW5nIiwiZXhwcmVzc2lvbnMiLCJoYXBweSIsImhhbmRsZU1hbnVhbENhcHR1cmUiLCJoYW5kbGVMb2dvdXQiLCJoYW5kbGVSZWZyZXNoTG9jYXRpb24iLCJkaXYiLCJjbGFzc05hbWUiLCJwIiwidmFsdWUiLCJzaG93R2VuZXJhbExvYWRpbmdTY3JlZW4iLCJkYXRhLWFpLWhpbnQiLCJzcmMiLCJhbHQiLCJmaWxsIiwic3R5bGUiLCJvYmplY3RGaXQiLCJxdWFsaXR5IiwiaGVhZGVyIiwic3ZnIiwieG1sbnMiLCJ2aWV3Qm94IiwicGF0aCIsImQiLCJoMSIsIm9uQ2xpY2siLCJzaXplIiwibWFpbiIsInJlZiIsImF1dG9QbGF5IiwicGxheXNJbmxpbmUiLCJtdXRlZCIsIndpbmRvdyIsInJlbG9hZCIsInN0cm9uZyIsImhyIiwiZGlzYWJsZWQiLCJ0b0ZpeGVkIiwic3BhbiIsImFyaWEtbGFiZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/page.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/services/geo-location.ts":
/*!**************************************!*\
  !*** ./src/services/geo-location.ts ***!
  \**************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GeolocationError: function() { return /* binding */ GeolocationError; },\n/* harmony export */   getAddressFromCoordinates: function() { return /* binding */ getAddressFromCoordinates; },\n/* harmony export */   getCurrentPosition: function() { return /* binding */ getCurrentPosition; }\n/* harmony export */ });\n/**\n * Custom Error class for Geolocation errors.\n */ class GeolocationError extends Error {\n    constructor(message, code){\n        super(message);\n        this.name = \"GeolocationError\";\n        this.code = code;\n        // Set the prototype explicitly.\n        Object.setPrototypeOf(this, GeolocationError.prototype);\n    }\n}\n/**\n * Gets the current geographical coordinates of the device.\n * @returns A promise that resolves with the GeolocationCoordinates object or rejects with a GeolocationError.\n */ const getCurrentPosition = ()=>{\n    return new Promise((resolve, reject)=>{\n        if (!navigator.geolocation) {\n            reject(new GeolocationError(\"Geolocation is not supported by this browser.\", -1)); // Use a custom code for non-support\n            return;\n        }\n        navigator.geolocation.getCurrentPosition((position)=>{\n            resolve(position.coords);\n        }, (error)=>{\n            let message = \"\";\n            switch(error.code){\n                case error.PERMISSION_DENIED:\n                    message = \"User denied the request for Geolocation.\";\n                    break;\n                case error.POSITION_UNAVAILABLE:\n                    message = \"Location information is unavailable. Check GPS signal and network connection.\";\n                    break;\n                case error.TIMEOUT:\n                    message = \"Could not get location in time. Check GPS signal and network connection, then try again.\";\n                    break;\n                default:\n                    message = \"An unknown error occurred while retrieving location.\";\n                    break;\n            }\n            reject(new GeolocationError(\"\".concat(message, \" (Code: \").concat(error.code, \")\"), error.code));\n        }, {\n            enableHighAccuracy: true,\n            timeout: 20000,\n            maximumAge: 0\n        });\n    });\n};\n/**\n * Reverse geocodes latitude and longitude to get an address.\n * Uses the OpenStreetMap Nominatim API.\n * @param latitude The latitude coordinate.\n * @param longitude The longitude coordinate.\n * @returns A promise that resolves with the address string or rejects with an error.\n */ const getAddressFromCoordinates = async (latitude, longitude)=>{\n    console.log(\"[GeoService] Fetching address for Lat: \".concat(latitude, \", Lon: \").concat(longitude));\n    try {\n        // IMPORTANT: As per Nominatim's usage policy, a valid User-Agent is required.\n        // Replace 'YourAppName/1.0 (your-contact-email@example.com)' with your actual app name and a contact email.\n        const response = await fetch(\"https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=\".concat(latitude, \"&lon=\").concat(longitude), {\n            headers: {\n                \"User-Agent\": \"FieldTrackApp/1.0 (contact@ewheelslogistics.com)\" // Example User-Agent\n            }\n        });\n        if (!response.ok) {\n            const errorText = await response.text().catch(()=>\"Could not read error response body.\");\n            console.error(\"[GeoService] Nominatim API request failed. Status: \".concat(response.status, \". Response: \").concat(errorText));\n            throw new Error(\"Address lookup failed: Server responded with status \".concat(response.status, \".\"));\n        }\n        const data = await response.json();\n        if (data && data.display_name) {\n            console.log(\"[GeoService] Address found: \".concat(data.display_name));\n            return data.display_name;\n        } else {\n            console.warn(\"[GeoService] Nominatim response did not contain display_name or data was unexpected:\", data);\n            throw new Error(\"Address data not found in API response. The location might be in an area with no known address (e.g., open water).\");\n        }\n    } catch (error) {\n        console.error(\"[GeoService] Error in getAddressFromCoordinates:\", error);\n        if (error.message && (error.message.startsWith(\"Address lookup failed:\") || error.message.startsWith(\"Address data not found\"))) {\n            throw error; // Re-throw specific, informative errors\n        }\n        // Fallback for network errors or other unexpected issues\n        throw new Error(\"Could not retrieve address. Please check your network connection and try refreshing the location.\");\n    }\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9zZXJ2aWNlcy9nZW8tbG9jYXRpb24udHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7O0NBRUMsR0FDTSxNQUFNQSx5QkFBeUJDO0lBR3BDQyxZQUFZQyxPQUFlLEVBQUVDLElBQVksQ0FBRTtRQUN6QyxLQUFLLENBQUNEO1FBQ04sSUFBSSxDQUFDRSxJQUFJLEdBQUc7UUFDWixJQUFJLENBQUNELElBQUksR0FBR0E7UUFDWixnQ0FBZ0M7UUFDaENFLE9BQU9DLGNBQWMsQ0FBQyxJQUFJLEVBQUVQLGlCQUFpQlEsU0FBUztJQUN4RDtBQUNGO0FBRUE7OztDQUdDLEdBQ00sTUFBTUMscUJBQXFCO0lBQ2hDLE9BQU8sSUFBSUMsUUFBUSxDQUFDQyxTQUFTQztRQUMzQixJQUFJLENBQUNDLFVBQVVDLFdBQVcsRUFBRTtZQUMxQkYsT0FBTyxJQUFJWixpQkFBaUIsaURBQWlELENBQUMsS0FBSyxvQ0FBb0M7WUFDdkg7UUFDRjtRQUVBYSxVQUFVQyxXQUFXLENBQUNMLGtCQUFrQixDQUN0QyxDQUFDTTtZQUNDSixRQUFRSSxTQUFTQyxNQUFNO1FBQ3pCLEdBQ0EsQ0FBQ0M7WUFDQyxJQUFJZCxVQUFVO1lBQ2QsT0FBUWMsTUFBTWIsSUFBSTtnQkFDaEIsS0FBS2EsTUFBTUMsaUJBQWlCO29CQUMxQmYsVUFBVTtvQkFDVjtnQkFDRixLQUFLYyxNQUFNRSxvQkFBb0I7b0JBQzdCaEIsVUFBVTtvQkFDVjtnQkFDRixLQUFLYyxNQUFNRyxPQUFPO29CQUNmakIsVUFBVTtvQkFDWDtnQkFDRjtvQkFDRUEsVUFBVTtvQkFDVjtZQUNKO1lBQ0FTLE9BQU8sSUFBSVosaUJBQWlCLEdBQXFCaUIsT0FBbEJkLFNBQVEsWUFBcUIsT0FBWGMsTUFBTWIsSUFBSSxFQUFDLE1BQUlhLE1BQU1iLElBQUk7UUFDNUUsR0FDQTtZQUNFaUIsb0JBQW9CO1lBQ3BCQyxTQUFTO1lBQ1RDLFlBQVk7UUFDZDtJQUVKO0FBQ0YsRUFBRTtBQUVGOzs7Ozs7Q0FNQyxHQUNNLE1BQU1DLDRCQUE0QixPQUFPQyxVQUFrQkM7SUFDaEVDLFFBQVFDLEdBQUcsQ0FBQywwQ0FBNERGLE9BQWxCRCxVQUFTLFdBQW1CLE9BQVZDO0lBQ3hFLElBQUk7UUFDRiw4RUFBOEU7UUFDOUUsNEdBQTRHO1FBQzVHLE1BQU1HLFdBQVcsTUFBTUMsTUFBTSxpRUFBaUZKLE9BQWhCRCxVQUFTLFNBQWlCLE9BQVZDLFlBQWE7WUFDekhLLFNBQVM7Z0JBQ1AsY0FBYyxtREFBbUQscUJBQXFCO1lBQ3hGO1FBQ0Y7UUFFQSxJQUFJLENBQUNGLFNBQVNHLEVBQUUsRUFBRTtZQUNoQixNQUFNQyxZQUFZLE1BQU1KLFNBQVNLLElBQUksR0FBR0MsS0FBSyxDQUFDLElBQU07WUFDcERSLFFBQVFWLEtBQUssQ0FBQyxzREFBb0ZnQixPQUE5QkosU0FBU08sTUFBTSxFQUFDLGdCQUF3QixPQUFWSDtZQUNsRyxNQUFNLElBQUloQyxNQUFNLHVEQUF1RSxPQUFoQjRCLFNBQVNPLE1BQU0sRUFBQztRQUN6RjtRQUVBLE1BQU1DLE9BQU8sTUFBTVIsU0FBU1MsSUFBSTtRQUVoQyxJQUFJRCxRQUFRQSxLQUFLRSxZQUFZLEVBQUU7WUFDN0JaLFFBQVFDLEdBQUcsQ0FBQywrQkFBaUQsT0FBbEJTLEtBQUtFLFlBQVk7WUFDNUQsT0FBT0YsS0FBS0UsWUFBWTtRQUMxQixPQUFPO1lBQ0xaLFFBQVFhLElBQUksQ0FBQyx3RkFBd0ZIO1lBQ3JHLE1BQU0sSUFBSXBDLE1BQU07UUFDbEI7SUFDRixFQUFFLE9BQU9nQixPQUFZO1FBQ25CVSxRQUFRVixLQUFLLENBQUMsb0RBQW9EQTtRQUNsRSxJQUFJQSxNQUFNZCxPQUFPLElBQUtjLENBQUFBLE1BQU1kLE9BQU8sQ0FBQ3NDLFVBQVUsQ0FBQyw2QkFBNkJ4QixNQUFNZCxPQUFPLENBQUNzQyxVQUFVLENBQUMseUJBQXdCLEdBQUk7WUFDN0gsTUFBTXhCLE9BQU8sd0NBQXdDO1FBQ3pEO1FBQ0EseURBQXlEO1FBQ3pELE1BQU0sSUFBSWhCLE1BQU07SUFDbEI7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9zZXJ2aWNlcy9nZW8tbG9jYXRpb24udHM/ZmE2MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEN1c3RvbSBFcnJvciBjbGFzcyBmb3IgR2VvbG9jYXRpb24gZXJyb3JzLlxuICovXG5leHBvcnQgY2xhc3MgR2VvbG9jYXRpb25FcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29kZTogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZywgY29kZTogbnVtYmVyKSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgdGhpcy5uYW1lID0gJ0dlb2xvY2F0aW9uRXJyb3InO1xuICAgIHRoaXMuY29kZSA9IGNvZGU7XG4gICAgLy8gU2V0IHRoZSBwcm90b3R5cGUgZXhwbGljaXRseS5cbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgR2VvbG9jYXRpb25FcnJvci5wcm90b3R5cGUpO1xuICB9XG59XG5cbi8qKlxuICogR2V0cyB0aGUgY3VycmVudCBnZW9ncmFwaGljYWwgY29vcmRpbmF0ZXMgb2YgdGhlIGRldmljZS5cbiAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIEdlb2xvY2F0aW9uQ29vcmRpbmF0ZXMgb2JqZWN0IG9yIHJlamVjdHMgd2l0aCBhIEdlb2xvY2F0aW9uRXJyb3IuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRDdXJyZW50UG9zaXRpb24gPSAoKTogUHJvbWlzZTxHZW9sb2NhdGlvbkNvb3JkaW5hdGVzPiA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgaWYgKCFuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pIHtcbiAgICAgIHJlamVjdChuZXcgR2VvbG9jYXRpb25FcnJvcignR2VvbG9jYXRpb24gaXMgbm90IHN1cHBvcnRlZCBieSB0aGlzIGJyb3dzZXIuJywgLTEpKTsgLy8gVXNlIGEgY3VzdG9tIGNvZGUgZm9yIG5vbi1zdXBwb3J0XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihcbiAgICAgIChwb3NpdGlvbikgPT4ge1xuICAgICAgICByZXNvbHZlKHBvc2l0aW9uLmNvb3Jkcyk7XG4gICAgICB9LFxuICAgICAgKGVycm9yKSA9PiB7XG4gICAgICAgIGxldCBtZXNzYWdlID0gJyc7XG4gICAgICAgIHN3aXRjaCAoZXJyb3IuY29kZSkge1xuICAgICAgICAgIGNhc2UgZXJyb3IuUEVSTUlTU0lPTl9ERU5JRUQ6XG4gICAgICAgICAgICBtZXNzYWdlID0gJ1VzZXIgZGVuaWVkIHRoZSByZXF1ZXN0IGZvciBHZW9sb2NhdGlvbi4nO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBlcnJvci5QT1NJVElPTl9VTkFWQUlMQUJMRTpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSAnTG9jYXRpb24gaW5mb3JtYXRpb24gaXMgdW5hdmFpbGFibGUuIENoZWNrIEdQUyBzaWduYWwgYW5kIG5ldHdvcmsgY29ubmVjdGlvbi4nO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBlcnJvci5USU1FT1VUOlxuICAgICAgICAgICAgIG1lc3NhZ2UgPSAnQ291bGQgbm90IGdldCBsb2NhdGlvbiBpbiB0aW1lLiBDaGVjayBHUFMgc2lnbmFsIGFuZCBuZXR3b3JrIGNvbm5lY3Rpb24sIHRoZW4gdHJ5IGFnYWluLic7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgbWVzc2FnZSA9ICdBbiB1bmtub3duIGVycm9yIG9jY3VycmVkIHdoaWxlIHJldHJpZXZpbmcgbG9jYXRpb24uJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJlamVjdChuZXcgR2VvbG9jYXRpb25FcnJvcihgJHttZXNzYWdlfSAoQ29kZTogJHtlcnJvci5jb2RlfSlgLCBlcnJvci5jb2RlKSk7XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWUsXG4gICAgICAgIHRpbWVvdXQ6IDIwMDAwLCAvLyBJbmNyZWFzZWQgdGltZW91dCB0byAyMCBzZWNvbmRzXG4gICAgICAgIG1heGltdW1BZ2U6IDAsXG4gICAgICB9XG4gICAgKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIFJldmVyc2UgZ2VvY29kZXMgbGF0aXR1ZGUgYW5kIGxvbmdpdHVkZSB0byBnZXQgYW4gYWRkcmVzcy5cbiAqIFVzZXMgdGhlIE9wZW5TdHJlZXRNYXAgTm9taW5hdGltIEFQSS5cbiAqIEBwYXJhbSBsYXRpdHVkZSBUaGUgbGF0aXR1ZGUgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSBsb25naXR1ZGUgVGhlIGxvbmdpdHVkZSBjb29yZGluYXRlLlxuICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgYWRkcmVzcyBzdHJpbmcgb3IgcmVqZWN0cyB3aXRoIGFuIGVycm9yLlxuICovXG5leHBvcnQgY29uc3QgZ2V0QWRkcmVzc0Zyb21Db29yZGluYXRlcyA9IGFzeW5jIChsYXRpdHVkZTogbnVtYmVyLCBsb25naXR1ZGU6IG51bWJlcik6IFByb21pc2U8c3RyaW5nPiA9PiB7XG4gIGNvbnNvbGUubG9nKGBbR2VvU2VydmljZV0gRmV0Y2hpbmcgYWRkcmVzcyBmb3IgTGF0OiAke2xhdGl0dWRlfSwgTG9uOiAke2xvbmdpdHVkZX1gKTtcbiAgdHJ5IHtcbiAgICAvLyBJTVBPUlRBTlQ6IEFzIHBlciBOb21pbmF0aW0ncyB1c2FnZSBwb2xpY3ksIGEgdmFsaWQgVXNlci1BZ2VudCBpcyByZXF1aXJlZC5cbiAgICAvLyBSZXBsYWNlICdZb3VyQXBwTmFtZS8xLjAgKHlvdXItY29udGFjdC1lbWFpbEBleGFtcGxlLmNvbSknIHdpdGggeW91ciBhY3R1YWwgYXBwIG5hbWUgYW5kIGEgY29udGFjdCBlbWFpbC5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwczovL25vbWluYXRpbS5vcGVuc3RyZWV0bWFwLm9yZy9yZXZlcnNlP2Zvcm1hdD1qc29udjImbGF0PSR7bGF0aXR1ZGV9Jmxvbj0ke2xvbmdpdHVkZX1gLCB7XG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdVc2VyLUFnZW50JzogJ0ZpZWxkVHJhY2tBcHAvMS4wIChjb250YWN0QGV3aGVlbHNsb2dpc3RpY3MuY29tKScgLy8gRXhhbXBsZSBVc2VyLUFnZW50XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICBjb25zdCBlcnJvclRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCkuY2F0Y2goKCkgPT4gJ0NvdWxkIG5vdCByZWFkIGVycm9yIHJlc3BvbnNlIGJvZHkuJyk7XG4gICAgICBjb25zb2xlLmVycm9yKGBbR2VvU2VydmljZV0gTm9taW5hdGltIEFQSSByZXF1ZXN0IGZhaWxlZC4gU3RhdHVzOiAke3Jlc3BvbnNlLnN0YXR1c30uIFJlc3BvbnNlOiAke2Vycm9yVGV4dH1gKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQWRkcmVzcyBsb29rdXAgZmFpbGVkOiBTZXJ2ZXIgcmVzcG9uZGVkIHdpdGggc3RhdHVzICR7cmVzcG9uc2Uuc3RhdHVzfS5gKTtcbiAgICB9XG5cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgaWYgKGRhdGEgJiYgZGF0YS5kaXNwbGF5X25hbWUpIHtcbiAgICAgIGNvbnNvbGUubG9nKGBbR2VvU2VydmljZV0gQWRkcmVzcyBmb3VuZDogJHtkYXRhLmRpc3BsYXlfbmFtZX1gKTtcbiAgICAgIHJldHVybiBkYXRhLmRpc3BsYXlfbmFtZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS53YXJuKCdbR2VvU2VydmljZV0gTm9taW5hdGltIHJlc3BvbnNlIGRpZCBub3QgY29udGFpbiBkaXNwbGF5X25hbWUgb3IgZGF0YSB3YXMgdW5leHBlY3RlZDonLCBkYXRhKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQWRkcmVzcyBkYXRhIG5vdCBmb3VuZCBpbiBBUEkgcmVzcG9uc2UuIFRoZSBsb2NhdGlvbiBtaWdodCBiZSBpbiBhbiBhcmVhIHdpdGggbm8ga25vd24gYWRkcmVzcyAoZS5nLiwgb3BlbiB3YXRlcikuJyk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcihcIltHZW9TZXJ2aWNlXSBFcnJvciBpbiBnZXRBZGRyZXNzRnJvbUNvb3JkaW5hdGVzOlwiLCBlcnJvcik7XG4gICAgaWYgKGVycm9yLm1lc3NhZ2UgJiYgKGVycm9yLm1lc3NhZ2Uuc3RhcnRzV2l0aCgnQWRkcmVzcyBsb29rdXAgZmFpbGVkOicpIHx8IGVycm9yLm1lc3NhZ2Uuc3RhcnRzV2l0aCgnQWRkcmVzcyBkYXRhIG5vdCBmb3VuZCcpKSkge1xuICAgICAgICB0aHJvdyBlcnJvcjsgLy8gUmUtdGhyb3cgc3BlY2lmaWMsIGluZm9ybWF0aXZlIGVycm9yc1xuICAgIH1cbiAgICAvLyBGYWxsYmFjayBmb3IgbmV0d29yayBlcnJvcnMgb3Igb3RoZXIgdW5leHBlY3RlZCBpc3N1ZXNcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgcmV0cmlldmUgYWRkcmVzcy4gUGxlYXNlIGNoZWNrIHlvdXIgbmV0d29yayBjb25uZWN0aW9uIGFuZCB0cnkgcmVmcmVzaGluZyB0aGUgbG9jYXRpb24uXCIpO1xuICB9XG59O1xuIl0sIm5hbWVzIjpbIkdlb2xvY2F0aW9uRXJyb3IiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwibWVzc2FnZSIsImNvZGUiLCJuYW1lIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiLCJnZXRDdXJyZW50UG9zaXRpb24iLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIm5hdmlnYXRvciIsImdlb2xvY2F0aW9uIiwicG9zaXRpb24iLCJjb29yZHMiLCJlcnJvciIsIlBFUk1JU1NJT05fREVOSUVEIiwiUE9TSVRJT05fVU5BVkFJTEFCTEUiLCJUSU1FT1VUIiwiZW5hYmxlSGlnaEFjY3VyYWN5IiwidGltZW91dCIsIm1heGltdW1BZ2UiLCJnZXRBZGRyZXNzRnJvbUNvb3JkaW5hdGVzIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJjb25zb2xlIiwibG9nIiwicmVzcG9uc2UiLCJmZXRjaCIsImhlYWRlcnMiLCJvayIsImVycm9yVGV4dCIsInRleHQiLCJjYXRjaCIsInN0YXR1cyIsImRhdGEiLCJqc29uIiwiZGlzcGxheV9uYW1lIiwid2FybiIsInN0YXJ0c1dpdGgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/services/geo-location.ts\n"));

/***/ })

});